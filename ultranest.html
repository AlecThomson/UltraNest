

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ultranest package &mdash; UltraNest 2.0.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/icon.ico"/>
  
  
  
    <link rel="canonical" href="https://johannesbuchner.github.io/UltraNest/ultranest.html"/>
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Frequently Asked Questions" href="issues.html" />
    <link rel="prev" title="API" href="modules.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #2980B9" >
          

          
            <a href="index.html" class="icon icon-home"> UltraNest
          

          
            
            <img src="_static/logo.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                2.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="readme.html">UltraNest</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="method.html">How it works</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage-spectral-line.html">Basic usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="performance.html">Tour of the features</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">API</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">ultranest package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-ultranest.integrator">ultranest.integrator module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-ultranest.mlfriends">ultranest.mlfriends module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-ultranest.netiter">ultranest.netiter module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-ultranest.plot">ultranest.plot module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-ultranest.samplingpath">ultranest.samplingpath module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-ultranest.solvecompat">ultranest.solvecompat module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-ultranest.stepsampler">ultranest.stepsampler module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-ultranest.store">ultranest.store module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-ultranest.utils">ultranest.utils module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-ultranest.viz">ultranest.viz module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="issues.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="history.html">Release Notes</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="example-sine-line.html">Time series fitting</a></li>
<li class="toctree-l1"><a class="reference internal" href="example-sine-modelcomparison.html">Model comparison</a></li>
<li class="toctree-l1"><a class="reference internal" href="example-sine-highd.html">Higher-dimensional fitting</a></li>
<li class="toctree-l1"><a class="reference internal" href="example-intrinsic-distribution.html">Tutorial: intrinsic distribution</a></li>
<li class="toctree-l1"><a class="reference internal" href="example-line.html">Tutorial: fitting a line</a></li>
<li class="toctree-l1"><a class="reference internal" href="example-outliers.html">Tutorial: distribution with outliers</a></li>
<li class="toctree-l1"><a class="reference internal" href="example-sine-bayesian-workflow.html">Bayesian workflow</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">UltraNest</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="modules.html">API</a> &raquo;</li>
        
      <li>ultranest package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="module-ultranest">
<span id="ultranest-package"></span><h1>ultranest package<a class="headerlink" href="#module-ultranest" title="Permalink to this headline">¶</a></h1>
<p>Performs nested sampling to calculate the Bayesian evidence and posterior samples
Some parts are from the Nestle library by Kyle Barbary (<a class="reference external" href="https://github.com/kbarbary/nestle">https://github.com/kbarbary/nestle</a>)
Some parts are from the nnest library by Adam Moss (<a class="reference external" href="https://github.com/adammoss/nnest">https://github.com/adammoss/nnest</a>)</p>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-ultranest.integrator">
<span id="ultranest-integrator-module"></span><h2>ultranest.integrator module<a class="headerlink" href="#module-ultranest.integrator" title="Permalink to this headline">¶</a></h2>
<p>Ultranest calculates the Bayesian evidence and posterior samples of arbitrary models.</p>
<dl class="class">
<dt id="ultranest.integrator.NestedSampler">
<em class="property">class </em><code class="sig-prename descclassname">ultranest.integrator.</code><code class="sig-name descname">NestedSampler</code><span class="sig-paren">(</span><em class="sig-param">param_names</em>, <em class="sig-param">loglike</em>, <em class="sig-param">transform=None</em>, <em class="sig-param">derived_param_names=[]</em>, <em class="sig-param">resume='subfolder'</em>, <em class="sig-param">run_num=None</em>, <em class="sig-param">log_dir='logs/test'</em>, <em class="sig-param">num_live_points=1000</em>, <em class="sig-param">vectorized=False</em>, <em class="sig-param">wrapped_params=[]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/integrator.html#NestedSampler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.integrator.NestedSampler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Simple Nested sampler for reference.</p>
<p>Set up nested sampler.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>param_names</strong> (<em>list of str</em><em>, </em><em>names of the parameters.</em>) – Length gives dimensionality of the sampling problem.</p></li>
<li><p><strong>loglike</strong> (<em>function</em>) – log-likelihood function.
Receives multiple parameter vectors, returns vector of likelihood.</p></li>
<li><p><strong>transform</strong> (<em>function</em>) – parameter transform from unit cube to physical parameters.
Receives multiple cube vectors, returns multiple parameter vectors.</p></li>
<li><p><strong>derived_param_names</strong> (<em>list of str</em>) – Additional derived parameters created by transform. (empty by default)</p></li>
<li><p><strong>log_dir</strong> (<em>str</em>) – where to store output files</p></li>
<li><p><strong>resume</strong> (<em>'resume'</em><em>, </em><em>'overwrite'</em><em> or </em><em>'subfolder'</em>) – if ‘overwrite’, overwrite previous data.
if ‘subfolder’, create a fresh subdirectory in log_dir
if ‘resume’ or True, continue previous run if available.</p></li>
<li><p><strong>wrapped_params</strong> (<em>list of bools</em>) – indicating whether this parameter wraps around (circular parameter).</p></li>
<li><p><strong>num_live_points</strong> (<em>int</em>) – Number of live points</p></li>
<li><p><strong>vectorized</strong> (<em>bool</em>) – If true, loglike and transform function can receive arrays
of points.</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="ultranest.integrator.NestedSampler.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param">update_interval_iter=None</em>, <em class="sig-param">update_interval_ncall=None</em>, <em class="sig-param">log_interval=None</em>, <em class="sig-param">dlogz=0.001</em>, <em class="sig-param">max_iters=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/integrator.html#NestedSampler.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.integrator.NestedSampler.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Explore parameter space.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>update_interval_iter</strong> – Update region after this many iterations.</p></li>
<li><p><strong>update_interval_ncall</strong> – Update region after update_interval_ncall likelihood calls.</p></li>
<li><p><strong>log_interval</strong> – Update stdout status line every log_interval iterations</p></li>
<li><p><strong>dlogz</strong> – Target evidence uncertainty.</p></li>
<li><p><strong>max_iters</strong> – maximum number of integration iterations.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ultranest.integrator.NestedSampler.print_results">
<code class="sig-name descname">print_results</code><span class="sig-paren">(</span><em class="sig-param">logZ=True</em>, <em class="sig-param">posterior=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/integrator.html#NestedSampler.print_results"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.integrator.NestedSampler.print_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Give summary of marginal likelihood and parameters.</p>
</dd></dl>

<dl class="method">
<dt id="ultranest.integrator.NestedSampler.plot">
<code class="sig-name descname">plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/integrator.html#NestedSampler.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.integrator.NestedSampler.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Make corner plot.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ultranest.integrator.ReactiveNestedSampler">
<em class="property">class </em><code class="sig-prename descclassname">ultranest.integrator.</code><code class="sig-name descname">ReactiveNestedSampler</code><span class="sig-paren">(</span><em class="sig-param">param_names</em>, <em class="sig-param">loglike</em>, <em class="sig-param">transform=None</em>, <em class="sig-param">derived_param_names=[]</em>, <em class="sig-param">wrapped_params=None</em>, <em class="sig-param">resume='subfolder'</em>, <em class="sig-param">run_num=None</em>, <em class="sig-param">log_dir=None</em>, <em class="sig-param">num_test_samples=2</em>, <em class="sig-param">draw_multiple=True</em>, <em class="sig-param">num_bootstraps=30</em>, <em class="sig-param">vectorized=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/integrator.html#ReactiveNestedSampler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.integrator.ReactiveNestedSampler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Nested sampler with reactive exploration strategy.</p>
<p>Storage &amp; resume capable, optionally MPI parallelised.</p>
<p>Initialise nested sampler.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>param_names</strong> (<em>list of str</em><em>, </em><em>names of the parameters.</em>) – Length gives dimensionality of the sampling problem.</p></li>
<li><p><strong>loglike</strong> (<em>function</em>) – log-likelihood function.
Receives multiple parameter vectors, returns vector of likelihood.</p></li>
<li><p><strong>transform</strong> (<em>function</em>) – parameter transform from unit cube to physical parameters.
Receives multiple cube vectors, returns multiple parameter vectors.</p></li>
<li><p><strong>derived_param_names</strong> (<em>list of str</em>) – Additional derived parameters created by transform. (empty by default)</p></li>
<li><p><strong>log_dir</strong> (<em>str</em>) – where to store output files</p></li>
<li><p><strong>resume</strong> (<em>'resume'</em><em>, </em><em>'overwrite'</em><em> or </em><em>'subfolder'</em>) – if ‘overwrite’, overwrite previous data.
if ‘subfolder’, create a fresh subdirectory in log_dir
if ‘resume’ or True, continue previous run if available.</p></li>
<li><p><strong>wrapped_params</strong> (<em>list of bools</em>) – indicating whether this parameter wraps around (circular parameter).</p></li>
<li><p><strong>num_test_samples</strong> (<em>int</em>) – test transform and likelihood with this number of
random points for errors first. Useful to catch bugs.</p></li>
<li><p><strong>draw_multiple</strong> (<em>bool</em>) – draw more points if efficiency goes down.
If set to False, few points are sampled at once.</p></li>
<li><p><strong>num_bootstraps</strong> (<em>int</em>) – number of logZ estimators and MLFriends region
bootstrap rounds.</p></li>
<li><p><strong>vectorized</strong> (<em>bool</em>) – If true, loglike and transform function can receive arrays
of points.</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="ultranest.integrator.ReactiveNestedSampler.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param">update_interval_iter_fraction=0.2</em>, <em class="sig-param">update_interval_ncall=None</em>, <em class="sig-param">log_interval=None</em>, <em class="sig-param">show_status=True</em>, <em class="sig-param">viz_callback='auto'</em>, <em class="sig-param">dlogz=0.5</em>, <em class="sig-param">dKL=0.5</em>, <em class="sig-param">frac_remain=0.01</em>, <em class="sig-param">min_ess=400</em>, <em class="sig-param">max_iters=None</em>, <em class="sig-param">max_ncalls=None</em>, <em class="sig-param">max_num_improvement_loops=-1</em>, <em class="sig-param">min_num_live_points=400</em>, <em class="sig-param">cluster_num_live_points=40</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/integrator.html#ReactiveNestedSampler.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.integrator.ReactiveNestedSampler.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run until target convergence criteria are fulfilled.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>update_interval_iter_fraction</strong> (<em>float</em>) – Update region after (update_interval_iter_fraction*nlive) iterations.</p></li>
<li><p><strong>update_interval_ncall</strong> (<em>int</em>) – Update region after update_interval_ncall likelihood calls (not used).</p></li>
<li><p><strong>log_interval</strong> (<em>int</em>) – Update stdout status line every log_interval iterations</p></li>
<li><p><strong>show_status</strong> (<em>bool</em>) – show integration progress as a status line.
If no output desired, set to False.</p></li>
<li><p><strong>viz_callback</strong> (<em>function</em>) – callback function when region was rebuilt. Allows to
show current state of the live points.
See <code class="xref py py-func docutils literal notranslate"><span class="pre">nicelogger()</span></code> or <code class="xref py py-class docutils literal notranslate"><span class="pre">LivePointsWidget</span></code>.
If no output desired, set to False.</p></li>
<li><p><strong>dlogz</strong> (<em>float</em>) – Target evidence uncertainty. This is the std
between bootstrapped logz integrators.</p></li>
<li><p><strong>dKL</strong> (<em>float</em>) – Target posterior uncertainty. This is the
Kullback-Leibler divergence in nat between bootstrapped integrators.</p></li>
<li><p><strong>frac_remain</strong> (<em>float</em>) – Integrate until this fraction of the integral is left in the remainder.
Set to a low number (1e-2 … 1e-5) to make sure peaks are discovered.
Set to a higher number (0.5) if you know the posterior is simple.</p></li>
<li><p><strong>min_ess</strong> (<em>int</em>) – Target number of effective posterior samples.</p></li>
<li><p><strong>max_iters</strong> (<em>int</em>) – maximum number of integration iterations.</p></li>
<li><p><strong>max_ncalls</strong> (<em>int</em>) – stop after this many likelihood evaluations.</p></li>
<li><p><strong>max_num_improvement_loops</strong> (<em>int</em>) – run() tries to assess iteratively where more samples are needed.
This number limits the number of improvement loops.</p></li>
<li><p><strong>min_num_live_points</strong> (<em>int</em>) – minimum number of live points throughout the run</p></li>
<li><p><strong>cluster_num_live_points</strong> (<em>int</em>) – require at least this many live points per detected cluster</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ultranest.integrator.ReactiveNestedSampler.run_iter">
<code class="sig-name descname">run_iter</code><span class="sig-paren">(</span><em class="sig-param">update_interval_iter_fraction=0.2</em>, <em class="sig-param">update_interval_ncall=None</em>, <em class="sig-param">log_interval=None</em>, <em class="sig-param">dlogz=0.5</em>, <em class="sig-param">dKL=0.5</em>, <em class="sig-param">frac_remain=0.01</em>, <em class="sig-param">min_ess=400</em>, <em class="sig-param">max_iters=None</em>, <em class="sig-param">max_ncalls=None</em>, <em class="sig-param">max_num_improvement_loops=-1</em>, <em class="sig-param">min_num_live_points=400</em>, <em class="sig-param">cluster_num_live_points=40</em>, <em class="sig-param">show_status=True</em>, <em class="sig-param">viz_callback='auto'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/integrator.html#ReactiveNestedSampler.run_iter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.integrator.ReactiveNestedSampler.run_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate towards convergence.</p>
<p>Use as an iterator like so:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">sampler</span><span class="o">.</span><span class="n">run_iter</span><span class="p">(</span><span class="o">...</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;lnZ = </span><span class="si">%(logz).2f</span><span class="s1"> +- </span><span class="si">%(logzerr).2f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<p>Parameters as described in run() function.</p>
</dd></dl>

<dl class="method">
<dt id="ultranest.integrator.ReactiveNestedSampler.store_tree">
<code class="sig-name descname">store_tree</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/integrator.html#ReactiveNestedSampler.store_tree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.integrator.ReactiveNestedSampler.store_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Store tree to disk (results/tree.hdf5).</p>
</dd></dl>

<dl class="method">
<dt id="ultranest.integrator.ReactiveNestedSampler.print_results">
<code class="sig-name descname">print_results</code><span class="sig-paren">(</span><em class="sig-param">logZ=True</em>, <em class="sig-param">posterior=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/integrator.html#ReactiveNestedSampler.print_results"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.integrator.ReactiveNestedSampler.print_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Give summary of marginal likelihood and parameters.</p>
</dd></dl>

<dl class="method">
<dt id="ultranest.integrator.ReactiveNestedSampler.plot">
<code class="sig-name descname">plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/integrator.html#ReactiveNestedSampler.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.integrator.ReactiveNestedSampler.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Make corner, run and trace plots.</p>
</dd></dl>

<dl class="method">
<dt id="ultranest.integrator.ReactiveNestedSampler.plot_corner">
<code class="sig-name descname">plot_corner</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/integrator.html#ReactiveNestedSampler.plot_corner"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.integrator.ReactiveNestedSampler.plot_corner" title="Permalink to this definition">¶</a></dt>
<dd><p>Make corner plot.</p>
<p>Writes corner plot to plots/ directory if log directory was
specified, otherwise show interactively.</p>
<p>This does essentially:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ultranest.plot</span> <span class="k">import</span> <span class="n">cornerplot</span>
<span class="n">cornerplot</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="ultranest.integrator.ReactiveNestedSampler.plot_trace">
<code class="sig-name descname">plot_trace</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/integrator.html#ReactiveNestedSampler.plot_trace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.integrator.ReactiveNestedSampler.plot_trace" title="Permalink to this definition">¶</a></dt>
<dd><p>Make trace plot.</p>
<p>Write parameter trace diagnostic plots to plots/ directory
if log directory specified, otherwise show interactively.</p>
<p>This does essentially:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ultranest.plot</span> <span class="k">import</span> <span class="n">traceplot</span>
<span class="n">traceplot</span><span class="p">(</span><span class="n">results</span><span class="o">=</span><span class="n">results</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">paramnames</span> <span class="o">+</span> <span class="n">derivedparamnames</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="ultranest.integrator.ReactiveNestedSampler.plot_run">
<code class="sig-name descname">plot_run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/integrator.html#ReactiveNestedSampler.plot_run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.integrator.ReactiveNestedSampler.plot_run" title="Permalink to this definition">¶</a></dt>
<dd><p>Make run plot.</p>
<p>Write run diagnostic plots to plots/ directory
if log directory specified, otherwise show interactively.</p>
<p>This does essentially:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ultranest.plot</span> <span class="k">import</span> <span class="n">runplot</span>
<span class="n">runplot</span><span class="p">(</span><span class="n">results</span><span class="o">=</span><span class="n">results</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ultranest.mlfriends">
<span id="ultranest-mlfriends-module"></span><h2>ultranest.mlfriends module<a class="headerlink" href="#module-ultranest.mlfriends" title="Permalink to this headline">¶</a></h2>
<p>Construct and sample from region.</p>
<p>Implements MLFriends efficiently, with transformation layers and clustering.</p>
<dl class="class">
<dt id="ultranest.mlfriends.AffineLayer">
<em class="property">class </em><code class="sig-prename descclassname">ultranest.mlfriends.</code><code class="sig-name descname">AffineLayer</code><a class="headerlink" href="#ultranest.mlfriends.AffineLayer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ultranest.mlfriends.ScalingLayer" title="ultranest.mlfriends.ScalingLayer"><code class="xref py py-class docutils literal notranslate"><span class="pre">ultranest.mlfriends.ScalingLayer</span></code></a></p>
<p>Affine whitening transformation.</p>
<p>Learns the covariance of points.</p>
<p>Initialise layer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctr</strong> (<em>vector</em>) – Center of points</p></li>
<li><p><strong>T</strong> (<em>matrix</em>) – transformation matrix</p></li>
<li><p><strong>invT</strong> (<em>matrix</em>) – inverse transformation matrix</p></li>
<li><p><strong>nclusters</strong> (<em>int</em>) – number of clusters</p></li>
<li><p><strong>wrapped_dims</strong> (<em>array of bools</em>) – indicates which parameter axes are circular.</p></li>
<li><p><strong>clusterids</strong> (<em>array of int</em>) – cluster id for each point</p></li>
<li><p><strong>can be learned from points with .optimize</strong><strong>(</strong><strong>)</strong> (<em>These</em>) – </p></li>
</ul>
</dd>
</dl>
<dl class="attribute">
<dt id="ultranest.mlfriends.AffineLayer.create_new">
<code class="sig-name descname">create_new</code><a class="headerlink" href="#ultranest.mlfriends.AffineLayer.create_new" title="Permalink to this definition">¶</a></dt>
<dd><p>Learn next layer from this optimized layer’s clustering.</p>
<p>Returns a new, optimized AffineLayer.</p>
</dd></dl>

<dl class="attribute">
<dt id="ultranest.mlfriends.AffineLayer.optimize">
<code class="sig-name descname">optimize</code><a class="headerlink" href="#ultranest.mlfriends.AffineLayer.optimize" title="Permalink to this definition">¶</a></dt>
<dd><p>Optimize layer.</p>
<p>Estimates covariance of <em>centered_points</em>. <em>minvol</em> sets the
smallest allowed size of the covariance to avoid numerical
collapse.</p>
</dd></dl>

<dl class="attribute">
<dt id="ultranest.mlfriends.AffineLayer.transform">
<code class="sig-name descname">transform</code><a class="headerlink" href="#ultranest.mlfriends.AffineLayer.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform points from cube space to a whitened space.</p>
</dd></dl>

<dl class="attribute">
<dt id="ultranest.mlfriends.AffineLayer.untransform">
<code class="sig-name descname">untransform</code><a class="headerlink" href="#ultranest.mlfriends.AffineLayer.untransform" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform points from whitened space back to cube space.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ultranest.mlfriends.MLFriends">
<em class="property">class </em><code class="sig-prename descclassname">ultranest.mlfriends.</code><code class="sig-name descname">MLFriends</code><a class="headerlink" href="#ultranest.mlfriends.MLFriends" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>MLFriends region.</p>
<p>Defines a region around nested sampling live points for</p>
<ol class="arabic simple">
<li><p>checking whether a proposed point likely also fulfills the
likelihood constraints</p></li>
<li><p>proposing new points.</p></li>
</ol>
<p>Learns geometry of region from existing live points.</p>
<p>Initialise region.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>u</strong> (<em>array of vectors</em>) – live points</p></li>
<li><p><strong>transformLayer</strong> (<a class="reference internal" href="#ultranest.mlfriends.ScalingLayer" title="ultranest.mlfriends.ScalingLayer"><em>ScalingLayer</em></a><em> or </em><a class="reference internal" href="#ultranest.mlfriends.AffineLayer" title="ultranest.mlfriends.AffineLayer"><em>AffineLayer</em></a>) – whitenin layer</p></li>
</ul>
</dd>
</dl>
<dl class="attribute">
<dt id="ultranest.mlfriends.MLFriends.compute_enlargement">
<code class="sig-name descname">compute_enlargement</code><a class="headerlink" href="#ultranest.mlfriends.MLFriends.compute_enlargement" title="Permalink to this definition">¶</a></dt>
<dd><p>Return MLFriends radius and ellipsoid enlargement after <em>nbootstraps</em> bootstrapping rounds.</p>
<p>The wrapping ellipsoid covariance is determined in each bootstrap round.</p>
</dd></dl>

<dl class="attribute">
<dt id="ultranest.mlfriends.MLFriends.compute_maxradiussq">
<code class="sig-name descname">compute_maxradiussq</code><a class="headerlink" href="#ultranest.mlfriends.MLFriends.compute_maxradiussq" title="Permalink to this definition">¶</a></dt>
<dd><p>Return MLFriends radius after <em>nbootstraps</em> bootstrapping rounds</p>
</dd></dl>

<dl class="attribute">
<dt id="ultranest.mlfriends.MLFriends.create_ellipsoid">
<code class="sig-name descname">create_ellipsoid</code><a class="headerlink" href="#ultranest.mlfriends.MLFriends.create_ellipsoid" title="Permalink to this definition">¶</a></dt>
<dd><p>Create wrapping ellipsoid and store its center and covariance.</p>
</dd></dl>

<dl class="attribute">
<dt id="ultranest.mlfriends.MLFriends.estimate_volume">
<code class="sig-name descname">estimate_volume</code><a class="headerlink" href="#ultranest.mlfriends.MLFriends.estimate_volume" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimate the order of magnitude of the volume around a single point
given the current transformLayer and</p>
<p>Does not account for:
* the number of live points
* their overlap
* the intersection with the unit cube borders</p>
</dd></dl>

<dl class="attribute">
<dt id="ultranest.mlfriends.MLFriends.inside">
<code class="sig-name descname">inside</code><a class="headerlink" href="#ultranest.mlfriends.MLFriends.inside" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if inside region.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pts</strong> (<em>array of vectors</em>) – Points to check</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>is_inside</strong> – True if inside MLFriends region and wrapping ellipsoid,
for each point in <em>pts</em>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array of bools</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="ultranest.mlfriends.MLFriends.inside_ellipsoid">
<code class="sig-name descname">inside_ellipsoid</code><a class="headerlink" href="#ultranest.mlfriends.MLFriends.inside_ellipsoid" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if inside wrapping ellipsoid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>u</strong> (<em>array of vectors</em>) – Points to check</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>is_inside</strong> – True if inside wrapping ellipsoid, for each point in <em>pts</em>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array of bools</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="ultranest.mlfriends.MLFriends.sample">
<code class="sig-name descname">sample</code><a class="headerlink" href="#ultranest.mlfriends.MLFriends.sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw uniformly sampled points from MLFriends region.</p>
<p>Switches automatically between the <em>.sampling_methods</em>.</p>
</dd></dl>

<dl class="attribute">
<dt id="ultranest.mlfriends.MLFriends.sample_from_boundingbox">
<code class="sig-name descname">sample_from_boundingbox</code><a class="headerlink" href="#ultranest.mlfriends.MLFriends.sample_from_boundingbox" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw uniformly sampled points from MLFriends region.</p>
<p>Draws uniformly from bounding box around region.</p>
</dd></dl>

<dl class="attribute">
<dt id="ultranest.mlfriends.MLFriends.sample_from_points">
<code class="sig-name descname">sample_from_points</code><a class="headerlink" href="#ultranest.mlfriends.MLFriends.sample_from_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw uniformly sampled points from MLFriends region.</p>
<p>Chooses randomly from points and their ellipsoids.</p>
</dd></dl>

<dl class="attribute">
<dt id="ultranest.mlfriends.MLFriends.sample_from_transformed_boundingbox">
<code class="sig-name descname">sample_from_transformed_boundingbox</code><a class="headerlink" href="#ultranest.mlfriends.MLFriends.sample_from_transformed_boundingbox" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw uniformly sampled points from MLFriends region.</p>
<p>Draws uniformly from bounding box around region (in whitened space).</p>
</dd></dl>

<dl class="attribute">
<dt id="ultranest.mlfriends.MLFriends.sample_from_wrapping_ellipsoid">
<code class="sig-name descname">sample_from_wrapping_ellipsoid</code><a class="headerlink" href="#ultranest.mlfriends.MLFriends.sample_from_wrapping_ellipsoid" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw uniformly sampled points from MLFriends region.</p>
<p>Draws uniformly from wrapping ellipsoid and filters with region.</p>
</dd></dl>

<dl class="attribute">
<dt id="ultranest.mlfriends.MLFriends.set_transformLayer">
<code class="sig-name descname">set_transformLayer</code><a class="headerlink" href="#ultranest.mlfriends.MLFriends.set_transformLayer" title="Permalink to this definition">¶</a></dt>
<dd><p>Update transformation layer. Invalidates maxradius.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ultranest.mlfriends.ScalingLayer">
<em class="property">class </em><code class="sig-prename descclassname">ultranest.mlfriends.</code><code class="sig-name descname">ScalingLayer</code><a class="headerlink" href="#ultranest.mlfriends.ScalingLayer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Simple transformation layer that only shifts and scales each axis.</p>
<p>Initialise layer.</p>
<dl class="attribute">
<dt id="ultranest.mlfriends.ScalingLayer.create_new">
<code class="sig-name descname">create_new</code><a class="headerlink" href="#ultranest.mlfriends.ScalingLayer.create_new" title="Permalink to this definition">¶</a></dt>
<dd><p>Learn next layer from this optimized layer’s clustering.</p>
<p>Returns a new, optimized ScalingLayer.</p>
</dd></dl>

<dl class="attribute">
<dt id="ultranest.mlfriends.ScalingLayer.optimize">
<code class="sig-name descname">optimize</code><a class="headerlink" href="#ultranest.mlfriends.ScalingLayer.optimize" title="Permalink to this definition">¶</a></dt>
<dd><p>Optimize layer.</p>
<p>Estimates mean and std of points.</p>
</dd></dl>

<dl class="attribute">
<dt id="ultranest.mlfriends.ScalingLayer.optimize_wrap">
<code class="sig-name descname">optimize_wrap</code><a class="headerlink" href="#ultranest.mlfriends.ScalingLayer.optimize_wrap" title="Permalink to this definition">¶</a></dt>
<dd><p>Find largest gap in live points and wrap parameter space there.</p>
<p>For example, if a wrapped axis has:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">|*****</span>           <span class="o">****|</span>
</pre></div>
</div>
<p>it would identify the middle, subtract it, so that the new space
is</p>
<blockquote>
<div><div class="line-block">
<div class="line"><strong>****</strong>      |</div>
</div>
</div></blockquote>
<p>Does nothing if there are no wrapped/circular parameters.</p>
</dd></dl>

<dl class="attribute">
<dt id="ultranest.mlfriends.ScalingLayer.set_clusterids">
<code class="sig-name descname">set_clusterids</code><a class="headerlink" href="#ultranest.mlfriends.ScalingLayer.set_clusterids" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the cluster id assigned to each point.</p>
</dd></dl>

<dl class="attribute">
<dt id="ultranest.mlfriends.ScalingLayer.transform">
<code class="sig-name descname">transform</code><a class="headerlink" href="#ultranest.mlfriends.ScalingLayer.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform points from cube space to a whitened space.</p>
</dd></dl>

<dl class="attribute">
<dt id="ultranest.mlfriends.ScalingLayer.untransform">
<code class="sig-name descname">untransform</code><a class="headerlink" href="#ultranest.mlfriends.ScalingLayer.untransform" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform points from whitened space back to cube space.</p>
</dd></dl>

<dl class="attribute">
<dt id="ultranest.mlfriends.ScalingLayer.unwrap">
<code class="sig-name descname">unwrap</code><a class="headerlink" href="#ultranest.mlfriends.ScalingLayer.unwrap" title="Permalink to this definition">¶</a></dt>
<dd><p>Undo wrapping for circular parameters.</p>
</dd></dl>

<dl class="attribute">
<dt id="ultranest.mlfriends.ScalingLayer.wrap">
<code class="sig-name descname">wrap</code><a class="headerlink" href="#ultranest.mlfriends.ScalingLayer.wrap" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrap points for circular parameters.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="ultranest.mlfriends.bounding_ellipsoid">
<code class="sig-prename descclassname">ultranest.mlfriends.</code><code class="sig-name descname">bounding_ellipsoid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ultranest.mlfriends.bounding_ellipsoid" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate bounding ellipsoid containing a set of points x.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>(</em><em>npoints</em><em>, </em><em>ndim</em><em>) </em><em>ndarray</em>) – Coordinates of uniformly sampled points.</p></li>
<li><p><strong>pointvol</strong> (<em>float</em><em>, </em><em>optional</em>) – Used to set a minimum bound on the ellipsoid volume when
minvol is True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>mean and covariance of points</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ultranest.mlfriends.count_nearby">
<code class="sig-prename descclassname">ultranest.mlfriends.</code><code class="sig-name descname">count_nearby</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ultranest.mlfriends.count_nearby" title="Permalink to this definition">¶</a></dt>
<dd><p>Count the number of points in <em>a</em> within square radius <em>radiussq</em> for each point <em>b</em> in <em>bpts</em>.</p>
<p>The number is written to <em>nnearby</em> (of same length as bpts).</p>
</dd></dl>

<dl class="function">
<dt id="ultranest.mlfriends.find_nearby">
<code class="sig-prename descclassname">ultranest.mlfriends.</code><code class="sig-name descname">find_nearby</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ultranest.mlfriends.find_nearby" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the index of a point in <em>a</em> within square radius <em>radiussq</em>, for each point <em>b</em> in <em>bpts</em>.</p>
<p>The number is written to <em>nnearby</em> (of same length as <em>bpts</em>).
If none is found, -1 is returned.</p>
</dd></dl>

<dl class="function">
<dt id="ultranest.mlfriends.make_eigvals_positive">
<code class="sig-prename descclassname">ultranest.mlfriends.</code><code class="sig-name descname">make_eigvals_positive</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ultranest.mlfriends.make_eigvals_positive" title="Permalink to this definition">¶</a></dt>
<dd><p>For the symmetric square matrix <code class="docutils literal notranslate"><span class="pre">a</span></code>, increase any zero eigenvalues
to fulfill the given target product of eigenvalues.</p>
<p>Returns a (possibly) new matrix.</p>
</dd></dl>

<dl class="function">
<dt id="ultranest.mlfriends.update_clusters">
<code class="sig-prename descclassname">ultranest.mlfriends.</code><code class="sig-name descname">update_clusters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ultranest.mlfriends.update_clusters" title="Permalink to this definition">¶</a></dt>
<dd><p>Clusters <em>upoints</em>, so that clusters are distinct if no member pair is within a radius of sqrt(<em>maxradiussq</em>)</p>
<p>clusterids are the cluster indices of each point
clusterids re-uses the existing ids to assign new cluster ids</p>
<p>clustering is performed on a transformed coordinate space (<em>tpoints</em>).
Returned values are based on upoints.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>nclusters</strong> (<em>int</em>) – the number of clusters found, which is also clusterids.max()</p></li>
<li><p><strong>new_clusterids</strong> (<em>array of int</em>) – the new clusterids for each point</p></li>
<li><p><em>overlapped_points</em> – upoints with their cluster centers subtracted.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-ultranest.netiter">
<span id="ultranest-netiter-module"></span><h2>ultranest.netiter module<a class="headerlink" href="#module-ultranest.netiter" title="Permalink to this headline">¶</a></h2>
<p>Functions and classes for treating nested sampling exploration as a tree.</p>
<p>The root represents the prior volume, branches and sub-branches split the volume.
The leaves of the tree are the integration tail.</p>
<p>Nested sampling proceeds as a breadth first graph search,
with active nodes sorted by likelihood value.
The number of live points are the number of parallel edges (active nodes to do).</p>
<p>Most functions receive the argument “roots”, which are the
children of the tree root (main branches).</p>
<p>The exploration is bootstrap-capable without requiring additional
computational effort: The roots are indexed, and the bootstrap explorer
can ignore the rootids it does not know about.</p>
<dl class="class">
<dt id="ultranest.netiter.TreeNode">
<em class="property">class </em><code class="sig-prename descclassname">ultranest.netiter.</code><code class="sig-name descname">TreeNode</code><span class="sig-paren">(</span><em class="sig-param">value=None</em>, <em class="sig-param">id=None</em>, <em class="sig-param">children=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/netiter.html#TreeNode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.netiter.TreeNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Simple tree node.</p>
<p>Define TreeNode.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> – used to order nodes</p></li>
<li><p><strong>id</strong> (<em>int</em>) – refers to the order of discovery and storage (PointPile)</p></li>
<li><p><strong>children</strong> (<em>list of nodes</em>) – children nodes. if None, a empty list is used.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="ultranest.netiter.BreadthFirstIterator">
<em class="property">class </em><code class="sig-prename descclassname">ultranest.netiter.</code><code class="sig-name descname">BreadthFirstIterator</code><span class="sig-paren">(</span><em class="sig-param">roots</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/netiter.html#BreadthFirstIterator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.netiter.BreadthFirstIterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Generator exploring the tree.</p>
<p>Nodes are ordered by value and expanded in order.
The number of edges passing the node “in parallel” are “active”.</p>
<p>Start with initial set of nodes <em>roots</em>.</p>
<dl class="method">
<dt id="ultranest.netiter.BreadthFirstIterator.reset">
<code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/netiter.html#BreadthFirstIterator.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.netiter.BreadthFirstIterator.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>(Re)start exploration from the top.</p>
</dd></dl>

<dl class="method">
<dt id="ultranest.netiter.BreadthFirstIterator.next_node">
<code class="sig-name descname">next_node</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/netiter.html#BreadthFirstIterator.next_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.netiter.BreadthFirstIterator.next_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Get next node in order.</p>
<p>Does not remove the node from active set.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>None if done.</em></p></li>
<li><p><em>rootid, node, (active_nodes, active_root_ids, active_node_values, active_node_ids)</em></p></li>
<li><p><em>otherwise</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ultranest.netiter.BreadthFirstIterator.drop_next_node">
<code class="sig-name descname">drop_next_node</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/netiter.html#BreadthFirstIterator.drop_next_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.netiter.BreadthFirstIterator.drop_next_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Forget the current node.</p>
</dd></dl>

<dl class="method">
<dt id="ultranest.netiter.BreadthFirstIterator.expand_children_of">
<code class="sig-name descname">expand_children_of</code><span class="sig-paren">(</span><em class="sig-param">rootid</em>, <em class="sig-param">node</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/netiter.html#BreadthFirstIterator.expand_children_of"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.netiter.BreadthFirstIterator.expand_children_of" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace the current node with its children.</p>
<p>rootid and node have to come from the most recent call to next_node.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="ultranest.netiter.print_tree">
<code class="sig-prename descclassname">ultranest.netiter.</code><code class="sig-name descname">print_tree</code><span class="sig-paren">(</span><em class="sig-param">roots</em>, <em class="sig-param">title='Tree:'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/netiter.html#print_tree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.netiter.print_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Print a pretty yet compact graphic of the tree.</p>
</dd></dl>

<dl class="function">
<dt id="ultranest.netiter.dump_tree">
<code class="sig-prename descclassname">ultranest.netiter.</code><code class="sig-name descname">dump_tree</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">roots</em>, <em class="sig-param">pointpile</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/netiter.html#dump_tree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.netiter.dump_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a copy of the tree to a HDF5 file.</p>
</dd></dl>

<dl class="function">
<dt id="ultranest.netiter.count_tree">
<code class="sig-prename descclassname">ultranest.netiter.</code><code class="sig-name descname">count_tree</code><span class="sig-paren">(</span><em class="sig-param">roots</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/netiter.html#count_tree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.netiter.count_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the maximum number of parallel edges and the total number of nodes.</p>
</dd></dl>

<dl class="function">
<dt id="ultranest.netiter.count_tree_between">
<code class="sig-prename descclassname">ultranest.netiter.</code><code class="sig-name descname">count_tree_between</code><span class="sig-paren">(</span><em class="sig-param">roots</em>, <em class="sig-param">lo</em>, <em class="sig-param">hi</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/netiter.html#count_tree_between"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.netiter.count_tree_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Build basic tree statistics.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>nnodes</strong> (<em>int</em>) – the total number of nodes in the value interval lo .. hi (inclusive).</p></li>
<li><p><strong>maxwidth</strong> (<em>int</em>) – the maximum number of parallel edges</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ultranest.netiter.find_nodes_before">
<code class="sig-prename descclassname">ultranest.netiter.</code><code class="sig-name descname">find_nodes_before</code><span class="sig-paren">(</span><em class="sig-param">root</em>, <em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/netiter.html#find_nodes_before"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.netiter.find_nodes_before" title="Permalink to this definition">¶</a></dt>
<dd><p>Identify all nodes that have children above value.</p>
<p>If a root child is above the value, its parent (root) is the leaf returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>list_of_parents</strong> (<em>list of nodes</em>) – parents</p></li>
<li><p><strong>list_of_nforks</strong> (<em>list of floats</em>) – The list of number of forks experienced is:
1 if direct descendent of one of the root node’s children,
where no node had more than one child.
12 if the root child had 4 children, one of which had 3 children.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="ultranest.netiter.PointPile">
<em class="property">class </em><code class="sig-prename descclassname">ultranest.netiter.</code><code class="sig-name descname">PointPile</code><span class="sig-paren">(</span><em class="sig-param">udim</em>, <em class="sig-param">pdim</em>, <em class="sig-param">chunksize=1000</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/netiter.html#PointPile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.netiter.PointPile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A in-memory linearized storage of point coordinates.</p>
<p>TreeNodes only store the logL value and id,
which is the index in the point pile. The point pile stores
the point coordinates.</p>
<p>Set up point pile.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>udim</strong> (<em>int</em>) – number of parameters, dimension of unit cube points</p></li>
<li><p><strong>pdim</strong> (<em>int</em>) – number of physical (and derived) parameters</p></li>
<li><p><strong>chunksize</strong> (<em>int</em>) – the point pile grows as needed, in these intervals.</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="ultranest.netiter.PointPile.add">
<code class="sig-name descname">add</code><span class="sig-paren">(</span><em class="sig-param">newpointu</em>, <em class="sig-param">newpointp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/netiter.html#PointPile.add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.netiter.PointPile.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Save point <cite>newpointu</cite> (cube) / <cite>newpointp</cite> (parameters).</p>
</dd></dl>

<dl class="method">
<dt id="ultranest.netiter.PointPile.getu">
<code class="sig-name descname">getu</code><span class="sig-paren">(</span><em class="sig-param">i</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/netiter.html#PointPile.getu"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.netiter.PointPile.getu" title="Permalink to this definition">¶</a></dt>
<dd><p>Get cube point(s) with index(indices) <cite>i</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="ultranest.netiter.PointPile.getp">
<code class="sig-name descname">getp</code><span class="sig-paren">(</span><em class="sig-param">i</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/netiter.html#PointPile.getp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.netiter.PointPile.getp" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameter point(s) with index(indices) <cite>i</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="ultranest.netiter.PointPile.make_node">
<code class="sig-name descname">make_node</code><span class="sig-paren">(</span><em class="sig-param">value</em>, <em class="sig-param">u</em>, <em class="sig-param">p</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/netiter.html#PointPile.make_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.netiter.PointPile.make_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Save point <cite>u</cite> (cube) / <cite>p</cite> (parameters), return a tree node.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ultranest.netiter.SingleCounter">
<em class="property">class </em><code class="sig-prename descclassname">ultranest.netiter.</code><code class="sig-name descname">SingleCounter</code><span class="sig-paren">(</span><em class="sig-param">random=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/netiter.html#SingleCounter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.netiter.SingleCounter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Evidence log(Z) and posterior weight summation for a Nested Sampling tree.</p>
<p>Initialise counter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>random</strong> (<em>bool</em>) – if False, use mean estimator for volume shrinkage
if True, draw a random sample</p>
</dd>
</dl>
<dl class="method">
<dt id="ultranest.netiter.SingleCounter.reset">
<code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/netiter.html#SingleCounter.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.netiter.SingleCounter.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset counters and integration.</p>
</dd></dl>

<dl class="method">
<dt id="ultranest.netiter.SingleCounter.logZremain">
<em class="property">property </em><code class="sig-name descname">logZremain</code><a class="headerlink" href="#ultranest.netiter.SingleCounter.logZremain" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimate conservatively the logZ of the current tail (un-opened nodes).</p>
</dd></dl>

<dl class="method">
<dt id="ultranest.netiter.SingleCounter.passing_node">
<code class="sig-name descname">passing_node</code><span class="sig-paren">(</span><em class="sig-param">node</em>, <em class="sig-param">parallel_nodes</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/netiter.html#SingleCounter.passing_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.netiter.SingleCounter.passing_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Accumulate node to the integration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node</strong> (<a class="reference internal" href="#ultranest.netiter.TreeNode" title="ultranest.netiter.TreeNode"><em>TreeNode</em></a>) – breadth-first removed node</p></li>
<li><p><strong>parallel_nodes</strong> (<em>list</em>) – nodes active next to node</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ultranest.netiter.MultiCounter">
<em class="property">class </em><code class="sig-prename descclassname">ultranest.netiter.</code><code class="sig-name descname">MultiCounter</code><span class="sig-paren">(</span><em class="sig-param">nroots</em>, <em class="sig-param">nbootstraps=10</em>, <em class="sig-param">random=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/netiter.html#MultiCounter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.netiter.MultiCounter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Like SingleCounter, but bootstrap capable.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">logZ</span></code>, <code class="docutils literal notranslate"><span class="pre">logZerr</span></code>, <code class="docutils literal notranslate"><span class="pre">logVolremaining</span></code>: main estimator
<code class="docutils literal notranslate"><span class="pre">logZerr</span></code> is probably not reliable, because it needs <code class="docutils literal notranslate"><span class="pre">nlive</span></code>
to convert <code class="docutils literal notranslate"><span class="pre">H</span></code> to <code class="docutils literal notranslate"><span class="pre">logZerr</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Lmax</span></code>: highest loglikelihood currently known</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">logZ_bs</span></code>, <code class="docutils literal notranslate"><span class="pre">logZerr_bs</span></code>: bootstrapped logZ estimate</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">logZremain</span></code>, <code class="docutils literal notranslate"><span class="pre">remainder_ratio</span></code>: weight and fraction of the unexplored remainder</p></li>
</ul>
<p>Each of the following has as many entries as number of iterations:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">all_H</span></code>, <code class="docutils literal notranslate"><span class="pre">all_logZ</span></code>, <code class="docutils literal notranslate"><span class="pre">all_logVolremaining</span></code>, <code class="docutils literal notranslate"><span class="pre">logweights</span></code>:
information for all instances
first entry is the main estimator, i.e., not bootstrapped</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">istail</span></code>: whether that node was a leaf.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nlive</span></code>: number of parallel arcs (“live points”)</p></li>
</ul>
<p>Initialise counter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nroots</strong> (<em>int</em>) – number of children the tree root has</p></li>
<li><p><strong>nbootstraps</strong> (<em>int</em>) – number of bootstrap rounds</p></li>
<li><p><strong>random</strong> (<em>bool</em>) – if False, use mean estimator for volume shrinkage
if True, draw a random sample</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="ultranest.netiter.MultiCounter.reset">
<code class="sig-name descname">reset</code><span class="sig-paren">(</span><em class="sig-param">nentries</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/netiter.html#MultiCounter.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.netiter.MultiCounter.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset counters/integrator.</p>
</dd></dl>

<dl class="method">
<dt id="ultranest.netiter.MultiCounter.logZ_bs">
<em class="property">property </em><code class="sig-name descname">logZ_bs</code><a class="headerlink" href="#ultranest.netiter.MultiCounter.logZ_bs" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimate logZ from the bootstrap ensemble.</p>
</dd></dl>

<dl class="method">
<dt id="ultranest.netiter.MultiCounter.logZerr_bs">
<em class="property">property </em><code class="sig-name descname">logZerr_bs</code><a class="headerlink" href="#ultranest.netiter.MultiCounter.logZerr_bs" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimate logZ error from the bootstrap ensemble.</p>
</dd></dl>

<dl class="method">
<dt id="ultranest.netiter.MultiCounter.passing_node">
<code class="sig-name descname">passing_node</code><span class="sig-paren">(</span><em class="sig-param">rootid</em>, <em class="sig-param">node</em>, <em class="sig-param">rootids</em>, <em class="sig-param">parallel_values</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/netiter.html#MultiCounter.passing_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.netiter.MultiCounter.passing_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Accumulate node to the integration.</p>
<p>Breadth-first removed <cite>node</cite> and nodes active next to node (<cite>parallel_nodes</cite>).
rootid and rootids are needed to identify which bootstrap instance
should accumulate.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rootid</strong> (<a class="reference internal" href="#ultranest.netiter.TreeNode" title="ultranest.netiter.TreeNode"><em>TreeNode</em></a>) – root node this <cite>node</cite> is from.</p></li>
<li><p><strong>node</strong> (<a class="reference internal" href="#ultranest.netiter.TreeNode" title="ultranest.netiter.TreeNode"><em>TreeNode</em></a>) – node being processed.</p></li>
<li><p><strong>rootids</strong> (<em>array of ints</em>) – for each parallel node, which root it belongs to.</p></li>
<li><p><strong>parallel_nodes</strong> (<em>array of TreeNodes</em>) – parallel nodes passing <cite>node</cite>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="ultranest.netiter.logz_sequence">
<code class="sig-prename descclassname">ultranest.netiter.</code><code class="sig-name descname">logz_sequence</code><span class="sig-paren">(</span><em class="sig-param">root</em>, <em class="sig-param">pointpile</em>, <em class="sig-param">nbootstraps=12</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/netiter.html#logz_sequence"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.netiter.logz_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Run MultiCounter through tree <cite>root</cite>.</p>
<p>Keeps track of, and returns <code class="docutils literal notranslate"><span class="pre">(logz,</span> <span class="pre">logzerr,</span> <span class="pre">logv,</span> <span class="pre">nlive)</span></code>.</p>
</dd></dl>

</div>
<div class="section" id="module-ultranest.plot">
<span id="ultranest-plot-module"></span><h2>ultranest.plot module<a class="headerlink" href="#module-ultranest.plot" title="Permalink to this headline">¶</a></h2>
<p>Plotting utilities.</p>
<dl class="function">
<dt id="ultranest.plot.cornerplot">
<code class="sig-prename descclassname">ultranest.plot.</code><code class="sig-name descname">cornerplot</code><span class="sig-paren">(</span><em class="sig-param">results</em>, <em class="sig-param">logger=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/plot.html#cornerplot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.plot.cornerplot" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a corner plot with corner.</p>
</dd></dl>

<dl class="function">
<dt id="ultranest.plot.runplot">
<code class="sig-prename descclassname">ultranest.plot.</code><code class="sig-name descname">runplot</code><span class="sig-paren">(</span><em class="sig-param">results</em>, <em class="sig-param">span=None</em>, <em class="sig-param">logplot=False</em>, <em class="sig-param">kde=True</em>, <em class="sig-param">nkde=1000</em>, <em class="sig-param">color='blue'</em>, <em class="sig-param">plot_kwargs=None</em>, <em class="sig-param">label_kwargs=None</em>, <em class="sig-param">lnz_error=True</em>, <em class="sig-param">lnz_truth=None</em>, <em class="sig-param">truth_color='red'</em>, <em class="sig-param">truth_kwargs=None</em>, <em class="sig-param">max_x_ticks=8</em>, <em class="sig-param">max_y_ticks=3</em>, <em class="sig-param">use_math_text=True</em>, <em class="sig-param">mark_final_live=True</em>, <em class="sig-param">fig=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/plot.html#runplot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.plot.runplot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot live points, ln(likelihood), ln(weight), and ln(evidence) vs. ln(prior volume).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>results</strong> (<em>dynesty.results.Results instance</em>) – dynesty.results.Results instance from a nested
sampling run.</p></li>
<li><p><strong>span</strong> (<em>iterable with shape</em><em> (</em><em>4</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – <p>A list where each element is either a length-2 tuple containing
lower and upper bounds <em>or</em> a float from <cite>(0., 1.]</cite> giving the
fraction below the maximum. If a fraction is provided,
the bounds are chosen to be equal-tailed. An example would be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">span</span> <span class="o">=</span> <span class="p">[(</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">10.</span><span class="p">),</span> <span class="mf">0.001</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="p">(</span><span class="mf">5.</span><span class="p">,</span> <span class="mf">6.</span><span class="p">)]</span>
</pre></div>
</div>
<p>Default is <cite>(0., 1.05 * max(data))</cite> for each element.</p>
</p></li>
<li><p><strong>logplot</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to plot the evidence on a log scale. Default is <cite>False</cite>.</p></li>
<li><p><strong>kde</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to use kernel density estimation to estimate and plot
the PDF of the importance weights as a function of log-volume
(as opposed to the importance weights themselves). Default is
<cite>True</cite>.</p></li>
<li><p><strong>nkde</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of grid points used when plotting the kernel density
estimate. Default is <cite>1000</cite>.</p></li>
<li><p><strong>color</strong> (<em>str</em><em> or </em><em>iterable with shape</em><em> (</em><em>4</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – A <cite>~matplotlib</cite>-style color (either a single color or a different
value for each subplot) used when plotting the lines in each subplot.
Default is <cite>‘blue’</cite>.</p></li>
<li><p><strong>plot_kwargs</strong> (<em>dict</em><em>, </em><em>optional</em>) – Extra keyword arguments that will be passed to <cite>plot</cite>.</p></li>
<li><p><strong>label_kwargs</strong> (<em>dict</em><em>, </em><em>optional</em>) – Extra keyword arguments that will be sent to the
<cite>~matplotlib.axes.Axes.set_xlabel</cite> and
<cite>~matplotlib.axes.Axes.set_ylabel</cite> methods.</p></li>
<li><p><strong>lnz_error</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to plot the 1, 2, and 3-sigma approximate error bars
derived from the ln(evidence) error approximation over the course
of the run. Default is True.</p></li>
<li><p><strong>lnz_truth</strong> (<em>float</em><em>, </em><em>optional</em>) – A reference value for the evidence that will be overplotted on the
evidence subplot if provided.</p></li>
<li><p><strong>truth_color</strong> (<em>str</em><em> or </em><em>iterable with shape</em><em> (</em><em>ndim</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – A <cite>~matplotlib</cite>-style color used when plotting <cite>lnz_truth</cite>.
Default is <cite>‘red’</cite>.</p></li>
<li><p><strong>truth_kwargs</strong> (<em>dict</em><em>, </em><em>optional</em>) – Extra keyword arguments that will be used for plotting
<cite>lnz_truth</cite>.</p></li>
<li><p><strong>max_x_ticks</strong> (<em>int</em><em>, </em><em>optional</em>) – Maximum number of ticks allowed for the x axis. Default is <cite>8</cite>.</p></li>
<li><p><strong>max_y_ticks</strong> (<em>int</em><em>, </em><em>optional</em>) – Maximum number of ticks allowed for the y axis. Default is <cite>4</cite>.</p></li>
<li><p><strong>use_math_text</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether the axis tick labels for very large/small exponents should be
displayed as powers of 10 rather than using <cite>e</cite>. Default is <cite>False</cite>.</p></li>
<li><p><strong>mark_final_live</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to indicate the final addition of recycled live points
(if they were added to the resulting samples) using
a dashed vertical line. Default is <cite>True</cite>.</p></li>
<li><p><strong>fig</strong> ((<cite>~matplotlib.figure.Figure</cite>, <cite>~matplotlib.axes.Axes</cite>), optional) – If provided, overplot the run onto the provided figure.
Otherwise, by default an internal figure is generated.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>runplot</strong> – Output summary plot.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(<cite>~matplotlib.figure.Figure</cite>, <cite>~matplotlib.axes.Axes</cite>)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ultranest.plot.traceplot">
<code class="sig-prename descclassname">ultranest.plot.</code><code class="sig-name descname">traceplot</code><span class="sig-paren">(</span><em class="sig-param">results, span=None, quantiles=[0.025, 0.5, 0.975], smooth=0.02, post_color='blue', post_kwargs=None, kde=True, nkde=1000, trace_cmap='plasma', trace_color=None, trace_kwargs=None, connect=False, connect_highlight=10, connect_color='red', connect_kwargs=None, max_n_ticks=5, use_math_text=False, labels=None, label_kwargs=None, show_titles=False, title_fmt='.2f', title_kwargs=None, truths=None, truth_color='red', truth_kwargs=None, verbose=False, fig=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/plot.html#traceplot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.plot.traceplot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot traces and marginalized posteriors for each parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>results</strong> (<cite>~dynesty.results.Results</cite> instance) – A <cite>~dynesty.results.Results</cite> instance from a nested
sampling run. <strong>Compatible with results derived from</strong>
<a class="reference external" href="http://kylebarbary.com/nestle/">nestle</a>.</p></li>
<li><p><strong>span</strong> (<em>iterable with shape</em><em> (</em><em>ndim</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – <p>A list where each element is either a length-2 tuple containing
lower and upper bounds or a float from <cite>(0., 1.]</cite> giving the
fraction of (weighted) samples to include. If a fraction is provided,
the bounds are chosen to be equal-tailed. An example would be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">span</span> <span class="o">=</span> <span class="p">[(</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">10.</span><span class="p">),</span> <span class="mf">0.95</span><span class="p">,</span> <span class="p">(</span><span class="mf">5.</span><span class="p">,</span> <span class="mf">6.</span><span class="p">)]</span>
</pre></div>
</div>
<p>Default is <cite>0.999999426697</cite> (5-sigma credible interval) for each
parameter.</p>
</p></li>
<li><p><strong>quantiles</strong> (<em>iterable</em><em>, </em><em>optional</em>) – A list of fractional quantiles to overplot on the 1-D marginalized
posteriors as vertical dashed lines. Default is <cite>[0.025, 0.5, 0.975]</cite>
(the 95%/2-sigma credible interval).</p></li>
<li><p><strong>smooth</strong> (<em>float</em><em> or </em><em>iterable with shape</em><em> (</em><em>ndim</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – The standard deviation (either a single value or a different value for
each subplot) for the Gaussian kernel used to smooth the 1-D
marginalized posteriors, expressed as a fraction of the span.
Default is <cite>0.02</cite> (2% smoothing). If an integer is provided instead,
this will instead default to a simple (weighted) histogram with
<cite>bins=smooth</cite>.</p></li>
<li><p><strong>post_color</strong> (<em>str</em><em> or </em><em>iterable with shape</em><em> (</em><em>ndim</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – A <cite>~matplotlib</cite>-style color (either a single color or a different
value for each subplot) used when plotting the histograms.
Default is <cite>‘blue’</cite>.</p></li>
<li><p><strong>post_kwargs</strong> (<em>dict</em><em>, </em><em>optional</em>) – Extra keyword arguments that will be used for plotting the
marginalized 1-D posteriors.</p></li>
<li><p><strong>kde</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to use kernel density estimation to estimate and plot
the PDF of the importance weights as a function of log-volume
(as opposed to the importance weights themselves). Default is
<cite>True</cite>.</p></li>
<li><p><strong>nkde</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of grid points used when plotting the kernel density
estimate. Default is <cite>1000</cite>.</p></li>
<li><p><strong>trace_cmap</strong> (<em>str</em><em> or </em><em>iterable with shape</em><em> (</em><em>ndim</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – A <cite>~matplotlib</cite>-style colormap (either a single colormap or a
different colormap for each subplot) used when plotting the traces,
where each point is colored according to its weight. Default is
<cite>‘plasma’</cite>.</p></li>
<li><p><strong>trace_color</strong> (<em>str</em><em> or </em><em>iterable with shape</em><em> (</em><em>ndim</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – A <cite>~matplotlib</cite>-style color (either a single color or a
different color for each subplot) used when plotting the traces.
This overrides the <cite>trace_cmap</cite> option by giving all points
the same color. Default is <cite>None</cite> (not used).</p></li>
<li><p><strong>trace_kwargs</strong> (<em>dict</em><em>, </em><em>optional</em>) – Extra keyword arguments that will be used for plotting the traces.</p></li>
<li><p><strong>connect</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to draw lines connecting the paths of unique particles.
Default is <cite>False</cite>.</p></li>
<li><p><strong>connect_highlight</strong> (<em>int</em><em> or </em><em>iterable</em><em>, </em><em>optional</em>) – If <cite>connect=True</cite>, highlights the paths of a specific set of
particles. If an integer is passed, <code class="xref py py-data docutils literal notranslate"><span class="pre">connect_highlight</span></code>
random particle paths will be highlighted. If an iterable is passed,
then the particle paths corresponding to the provided indices
will be highlighted.</p></li>
<li><p><strong>connect_color</strong> (<em>str</em><em>, </em><em>optional</em>) – The color of the highlighted particle paths. Default is <cite>‘red’</cite>.</p></li>
<li><p><strong>connect_kwargs</strong> (<em>dict</em><em>, </em><em>optional</em>) – Extra keyword arguments used for plotting particle paths.</p></li>
<li><p><strong>max_n_ticks</strong> (<em>int</em><em>, </em><em>optional</em>) – Maximum number of ticks allowed. Default is <cite>5</cite>.</p></li>
<li><p><strong>use_math_text</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether the axis tick labels for very large/small exponents should be
displayed as powers of 10 rather than using <cite>e</cite>. Default is <cite>False</cite>.</p></li>
<li><p><strong>labels</strong> (<em>iterable with shape</em><em> (</em><em>ndim</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – A list of names for each parameter. If not provided, the default name
used when plotting will follow <span class="math notranslate nohighlight">\(x_i\)</span> style.</p></li>
<li><p><strong>label_kwargs</strong> (<em>dict</em><em>, </em><em>optional</em>) – Extra keyword arguments that will be sent to the
<cite>~matplotlib.axes.Axes.set_xlabel</cite> and
<cite>~matplotlib.axes.Axes.set_ylabel</cite> methods.</p></li>
<li><p><strong>show_titles</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to display a title above each 1-D marginalized posterior
showing the 0.5 quantile along with the upper/lower bounds associated
with the 0.025 and 0.975 (95%/2-sigma credible interval) quantiles.
Default is <cite>True</cite>.</p></li>
<li><p><strong>title_fmt</strong> (<em>str</em><em>, </em><em>optional</em>) – The format string for the quantiles provided in the title. Default is
<cite>‘.2f’</cite>.</p></li>
<li><p><strong>title_kwargs</strong> (<em>dict</em><em>, </em><em>optional</em>) – Extra keyword arguments that will be sent to the
<cite>~matplotlib.axes.Axes.set_title</cite> command.</p></li>
<li><p><strong>truths</strong> (<em>iterable with shape</em><em> (</em><em>ndim</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – A list of reference values that will be overplotted on the traces and
marginalized 1-D posteriors as solid horizontal/vertical lines.
Individual values can be exempt using <cite>None</cite>. Default is <cite>None</cite>.</p></li>
<li><p><strong>truth_color</strong> (<em>str</em><em> or </em><em>iterable with shape</em><em> (</em><em>ndim</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – A <cite>~matplotlib</cite>-style color (either a single color or a different
value for each subplot) used when plotting <cite>truths</cite>.
Default is <cite>‘red’</cite>.</p></li>
<li><p><strong>truth_kwargs</strong> (<em>dict</em><em>, </em><em>optional</em>) – Extra keyword arguments that will be used for plotting the vertical
and horizontal lines with <cite>truths</cite>.</p></li>
<li><p><strong>verbose</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to print the values of the computed quantiles associated with
each parameter. Default is <cite>False</cite>.</p></li>
<li><p><strong>fig</strong> ((<cite>~matplotlib.figure.Figure</cite>, <cite>~matplotlib.axes.Axes</cite>), optional) – If provided, overplot the traces and marginalized 1-D posteriors
onto the provided figure. Otherwise, by default an
internal figure is generated.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>traceplot</strong> – Output trace plot.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(<cite>~matplotlib.figure.Figure</cite>, <cite>~matplotlib.axes.Axes</cite>)</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-ultranest.samplingpath">
<span id="ultranest-samplingpath-module"></span><h2>ultranest.samplingpath module<a class="headerlink" href="#module-ultranest.samplingpath" title="Permalink to this headline">¶</a></h2>
<p>Sparsely sampled, virtual sampling path.</p>
<p>Supports reflections at unit cube boundaries, and regions.</p>
<dl class="function">
<dt id="ultranest.samplingpath.nearest_box_intersection_line">
<code class="sig-prename descclassname">ultranest.samplingpath.</code><code class="sig-name descname">nearest_box_intersection_line</code><span class="sig-paren">(</span><em class="sig-param">ray_origin</em>, <em class="sig-param">ray_direction</em>, <em class="sig-param">fwd=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/samplingpath.html#nearest_box_intersection_line"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.samplingpath.nearest_box_intersection_line" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute intersection of a line (ray) and a unit box (0:1 in all axes).</p>
<p>Based on
<a class="reference external" href="http://www.iquilezles.org/www/articles/intersectors/intersectors.htm">http://www.iquilezles.org/www/articles/intersectors/intersectors.htm</a></p>
<p>To continue forward traversing at the reflection point use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="c1"># update current point x</span>
    <span class="n">x</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">i</span> <span class="o">=</span> <span class="n">box_line_intersection</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
    <span class="c1"># change direction</span>
    <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*=</span> <span class="o">-</span><span class="mi">1</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ray_origin</strong> (<em>vector</em>) – starting point of line</p></li>
<li><p><strong>ray_direction</strong> (<em>vector</em>) – line direction vector</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>p</strong> (<em>vector</em>) – intersection point</p></li>
<li><p><strong>t</strong> (<em>float</em>) – intersection point distance from ray_origin in units in ray_direction</p></li>
<li><p><strong>i</strong> (<em>int</em>) – axes which change direction at pN</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ultranest.samplingpath.box_line_intersection">
<code class="sig-prename descclassname">ultranest.samplingpath.</code><code class="sig-name descname">box_line_intersection</code><span class="sig-paren">(</span><em class="sig-param">ray_origin</em>, <em class="sig-param">ray_direction</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/samplingpath.html#box_line_intersection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.samplingpath.box_line_intersection" title="Permalink to this definition">¶</a></dt>
<dd><p>Find intersections of a line with the unit cube, in both sides.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>left</strong> (<em>nearest_box_intersection_line return value</em>) – from negative direction</p></li>
<li><p><strong>right</strong> (<em>nearest_box_intersection_line return value</em>) – from positive direction</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ultranest.samplingpath.linear_steps_with_reflection">
<code class="sig-prename descclassname">ultranest.samplingpath.</code><code class="sig-name descname">linear_steps_with_reflection</code><span class="sig-paren">(</span><em class="sig-param">ray_origin</em>, <em class="sig-param">ray_direction</em>, <em class="sig-param">t</em>, <em class="sig-param">wrapped_dims=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/samplingpath.html#linear_steps_with_reflection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.samplingpath.linear_steps_with_reflection" title="Permalink to this definition">¶</a></dt>
<dd><p>Go <cite>t</cite> steps in direction <cite>ray_direction</cite> from <cite>ray_origin</cite>.</p>
<p>Reflect off the unit cube if encountered, respecting wrapped dimensions.
In any case, the distance should be <code class="docutils literal notranslate"><span class="pre">t</span> <span class="pre">*</span> <span class="pre">ray_direction</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>new_point</strong> (<em>vector</em>) – end point</p></li>
<li><p><strong>new_direction</strong> (<em>vector</em>) – new direction.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ultranest.samplingpath.get_sphere_tangent">
<code class="sig-prename descclassname">ultranest.samplingpath.</code><code class="sig-name descname">get_sphere_tangent</code><span class="sig-paren">(</span><em class="sig-param">sphere_center</em>, <em class="sig-param">edge_point</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/samplingpath.html#get_sphere_tangent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.samplingpath.get_sphere_tangent" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute tangent at sphere surface point.</p>
<p>Assume a sphere centered at sphere_center with radius
so that edge_point is on the surface. At edge_point, in
which direction does the normal vector point?</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>tangent</strong> – vector pointing to the sphere center.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>vector</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ultranest.samplingpath.get_sphere_tangents">
<code class="sig-prename descclassname">ultranest.samplingpath.</code><code class="sig-name descname">get_sphere_tangents</code><span class="sig-paren">(</span><em class="sig-param">sphere_center</em>, <em class="sig-param">edge_point</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/samplingpath.html#get_sphere_tangents"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.samplingpath.get_sphere_tangents" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute tangent at sphere surface point.</p>
<p>Assume a sphere centered at sphere_center with radius
so that edge_point is on the surface. At edge_point, in
which direction does the normal vector point?</p>
<p>This function is vectorized and handles arrays of arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>tangent</strong> – vector pointing to the sphere center.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>vector</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ultranest.samplingpath.reflect">
<code class="sig-prename descclassname">ultranest.samplingpath.</code><code class="sig-name descname">reflect</code><span class="sig-paren">(</span><em class="sig-param">v</em>, <em class="sig-param">normal</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/samplingpath.html#reflect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.samplingpath.reflect" title="Permalink to this definition">¶</a></dt>
<dd><p>Reflect vector <code class="docutils literal notranslate"><span class="pre">v</span></code> off a <code class="docutils literal notranslate"><span class="pre">normal</span></code> vector, return new direction vector.</p>
</dd></dl>

<dl class="function">
<dt id="ultranest.samplingpath.distances">
<code class="sig-prename descclassname">ultranest.samplingpath.</code><code class="sig-name descname">distances</code><span class="sig-paren">(</span><em class="sig-param">l</em>, <em class="sig-param">o</em>, <em class="sig-param">r=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/samplingpath.html#distances"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.samplingpath.distances" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute sphere-line intersection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>l</strong> (<em>vector</em>) – direction vector (line starts at 0)</p></li>
<li><p><strong>o</strong> (<em>vector</em>) – center of sphere (coordinate vector)</p></li>
<li><p><strong>r</strong> (<em>float</em>) – radius of sphere</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>tpos, tneg</strong> – the positive and negative coordinate along the <cite>l</cite> vector where <cite>r</cite> is intersected.
If no intersection, throws AssertError.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>floats</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ultranest.samplingpath.isunitlength">
<code class="sig-prename descclassname">ultranest.samplingpath.</code><code class="sig-name descname">isunitlength</code><span class="sig-paren">(</span><em class="sig-param">vec</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/samplingpath.html#isunitlength"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.samplingpath.isunitlength" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify that <cite>vec</cite> is of unit length.</p>
</dd></dl>

<dl class="function">
<dt id="ultranest.samplingpath.angle">
<code class="sig-prename descclassname">ultranest.samplingpath.</code><code class="sig-name descname">angle</code><span class="sig-paren">(</span><em class="sig-param">a</em>, <em class="sig-param">b</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/samplingpath.html#angle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.samplingpath.angle" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute dot product between vectors <cite>a</cite> and <cite>b</cite>.</p>
<p>The arccos of the return value would give an actual angle.</p>
</dd></dl>

<dl class="function">
<dt id="ultranest.samplingpath.extrapolate_ahead">
<code class="sig-prename descclassname">ultranest.samplingpath.</code><code class="sig-name descname">extrapolate_ahead</code><span class="sig-paren">(</span><em class="sig-param">dj</em>, <em class="sig-param">xj</em>, <em class="sig-param">vj</em>, <em class="sig-param">contourpath=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/samplingpath.html#extrapolate_ahead"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.samplingpath.extrapolate_ahead" title="Permalink to this definition">¶</a></dt>
<dd><p>Make <cite>di</cite> steps of size <cite>vj</cite> from <cite>xj</cite>.</p>
<p>Reflect off unit cube if necessary.</p>
</dd></dl>

<dl class="function">
<dt id="ultranest.samplingpath.interpolate">
<code class="sig-prename descclassname">ultranest.samplingpath.</code><code class="sig-name descname">interpolate</code><span class="sig-paren">(</span><em class="sig-param">i</em>, <em class="sig-param">points</em>, <em class="sig-param">fwd_possible</em>, <em class="sig-param">rwd_possible</em>, <em class="sig-param">contourpath=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/samplingpath.html#interpolate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.samplingpath.interpolate" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolate a point on the path indicated by <cite>points</cite>.</p>
<p>Given a sparsely sampled track (stored in .points),
potentially encountering reflections,
extract the corrdinates of the point with index <cite>i</cite>.
That point may not have been evaluated yet.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i</strong> (<em>int</em>) – position on track to return.</p></li>
<li><p><strong>points</strong> (<em>list of tuples</em><em> (</em><em>index</em><em>, </em><em>coordinate</em><em>, </em><em>direction</em><em>, </em><em>loglike</em><em>)</em>) – points on the path</p></li>
<li><p><strong>fwd_possible</strong> (<em>bool</em>) – whether the path could be extended in the positive direction.</p></li>
<li><p><strong>rwd_possible</strong> (<em>bool</em>) – whether the path could be extended in the negative direction.</p></li>
<li><p><strong>contourpath</strong> (<em>ContourPath</em>) – Use region to reflect. Not used at the moment.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="ultranest.samplingpath.SamplingPath">
<em class="property">class </em><code class="sig-prename descclassname">ultranest.samplingpath.</code><code class="sig-name descname">SamplingPath</code><span class="sig-paren">(</span><em class="sig-param">x0</em>, <em class="sig-param">v0</em>, <em class="sig-param">L0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/samplingpath.html#SamplingPath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.samplingpath.SamplingPath" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Path described by a (potentially sparse) sequence of points.</p>
<p>Convention of the stored point tuple <code class="docutils literal notranslate"><span class="pre">(i,</span> <span class="pre">x,</span> <span class="pre">v,</span> <span class="pre">L)</span></code>:
<cite>i</cite>: index (0 is starting point)
<cite>x</cite>: point
<cite>v</cite>: direction
<cite>L</cite>: loglikelihood value</p>
<p>Initialise with path starting point.</p>
<p>Starting point (<cite>x0</cite>), direction (<cite>v0</cite>) and
loglikelihood value (<cite>L0</cite>) of the path. Is given index 0.</p>
<dl class="method">
<dt id="ultranest.samplingpath.SamplingPath.add">
<code class="sig-name descname">add</code><span class="sig-paren">(</span><em class="sig-param">i</em>, <em class="sig-param">xi</em>, <em class="sig-param">vi</em>, <em class="sig-param">Li</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/samplingpath.html#SamplingPath.add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.samplingpath.SamplingPath.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add point <cite>xi</cite>, direction <cite>vi</cite> and value <cite>Li</cite> with index <cite>i</cite> to the path.</p>
</dd></dl>

<dl class="method">
<dt id="ultranest.samplingpath.SamplingPath.reset">
<code class="sig-name descname">reset</code><span class="sig-paren">(</span><em class="sig-param">x0</em>, <em class="sig-param">v0</em>, <em class="sig-param">L0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/samplingpath.html#SamplingPath.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.samplingpath.SamplingPath.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset path, start from <code class="docutils literal notranslate"><span class="pre">x0,</span> <span class="pre">v0,</span> <span class="pre">L0</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="ultranest.samplingpath.SamplingPath.plot">
<code class="sig-name descname">plot</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/samplingpath.html#SamplingPath.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.samplingpath.SamplingPath.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the current path.</p>
<p>Only uses first two dimensions.</p>
</dd></dl>

<dl class="method">
<dt id="ultranest.samplingpath.SamplingPath.interpolate">
<code class="sig-name descname">interpolate</code><span class="sig-paren">(</span><em class="sig-param">i</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/samplingpath.html#SamplingPath.interpolate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.samplingpath.SamplingPath.interpolate" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolate point with index <cite>i</cite> on path.</p>
</dd></dl>

<dl class="method">
<dt id="ultranest.samplingpath.SamplingPath.extrapolate">
<code class="sig-name descname">extrapolate</code><span class="sig-paren">(</span><em class="sig-param">i</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/samplingpath.html#SamplingPath.extrapolate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.samplingpath.SamplingPath.extrapolate" title="Permalink to this definition">¶</a></dt>
<dd><p>Advance beyond the current path, extrapolate from the end point.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>i</strong> (<em>int</em>) – index on path.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>coords</strong> – coordinates of the new point.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>vector</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ultranest.samplingpath.ContourSamplingPath">
<em class="property">class </em><code class="sig-prename descclassname">ultranest.samplingpath.</code><code class="sig-name descname">ContourSamplingPath</code><span class="sig-paren">(</span><em class="sig-param">samplingpath</em>, <em class="sig-param">region</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/samplingpath.html#ContourSamplingPath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.samplingpath.ContourSamplingPath" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Region-aware form of the sampling path.</p>
<p>Uses region points to guess a likelihood contour gradient.</p>
<p>Initialise with <cite>samplingpath</cite> and <cite>region</cite>.</p>
<dl class="method">
<dt id="ultranest.samplingpath.ContourSamplingPath.add">
<code class="sig-name descname">add</code><span class="sig-paren">(</span><em class="sig-param">i</em>, <em class="sig-param">x</em>, <em class="sig-param">v</em>, <em class="sig-param">L</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/samplingpath.html#ContourSamplingPath.add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.samplingpath.ContourSamplingPath.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add point <cite>xi</cite>, direction <cite>vi</cite> and value <cite>Li</cite> with index <cite>i</cite> to the path.</p>
</dd></dl>

<dl class="method">
<dt id="ultranest.samplingpath.ContourSamplingPath.interpolate">
<code class="sig-name descname">interpolate</code><span class="sig-paren">(</span><em class="sig-param">i</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/samplingpath.html#ContourSamplingPath.interpolate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.samplingpath.ContourSamplingPath.interpolate" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolate point with index <cite>i</cite> on path.</p>
</dd></dl>

<dl class="method">
<dt id="ultranest.samplingpath.ContourSamplingPath.extrapolate">
<code class="sig-name descname">extrapolate</code><span class="sig-paren">(</span><em class="sig-param">i</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/samplingpath.html#ContourSamplingPath.extrapolate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.samplingpath.ContourSamplingPath.extrapolate" title="Permalink to this definition">¶</a></dt>
<dd><p>Advance beyond the current path, extrapolate from the end point.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>i</strong> (<em>int</em>) – index on path.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>coords</strong> – coordinates of the new point.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>vector</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ultranest.samplingpath.ContourSamplingPath.gradient">
<code class="sig-name descname">gradient</code><span class="sig-paren">(</span><em class="sig-param">reflpoint</em>, <em class="sig-param">plot=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/samplingpath.html#ContourSamplingPath.gradient"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.samplingpath.ContourSamplingPath.gradient" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute gradient approximation.</p>
<p>Finds spheres enclosing the <cite>reflpoint</cite>, and chooses their mean
as the direction to go towards. If no spheres enclose the
reflpoint, use nearest sphere.</p>
<p>v is not used, because that would break detailed balance.</p>
<dl class="simple">
<dt>Considerations:</dt><dd><ul class="simple">
<li><p>in low-d, we want to focus on nearby live point spheres
The border traced out is fairly accurate, at least in the
normal away from the inside.</p></li>
<li><p>in high-d, reflpoint is contained by all live points,
and none of them point to the center well. Because the
sampling is poor, the “region center” position
will be very stochastic.</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>reflpoint</strong> (<em>vector</em>) – point outside the likelihood contour, reflect there</p></li>
<li><p><strong>v</strong> (<em>vector</em>) – previous direction vector</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>gradient</strong> – normal of ellipsoid</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>vector</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ultranest.solvecompat">
<span id="ultranest-solvecompat-module"></span><h2>ultranest.solvecompat module<a class="headerlink" href="#module-ultranest.solvecompat" title="Permalink to this headline">¶</a></h2>
<p>Drop-in replacement for pymultinest.solve.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ultranest.solvecompat</span> <span class="k">import</span> <span class="n">pymultinest_solve_compat</span> <span class="k">as</span> <span class="n">solve</span>

<span class="c1"># is a drop-in replacement for</span>

<span class="kn">from</span> <span class="nn">pymultinest.solve</span> <span class="k">import</span> <span class="n">solve</span>
</pre></div>
</div>
<dl class="function">
<dt id="ultranest.solvecompat.pymultinest_solve_compat">
<code class="sig-prename descclassname">ultranest.solvecompat.</code><code class="sig-name descname">pymultinest_solve_compat</code><span class="sig-paren">(</span><em class="sig-param">LogLikelihood</em>, <em class="sig-param">Prior</em>, <em class="sig-param">n_dims</em>, <em class="sig-param">paramnames=None</em>, <em class="sig-param">outputfiles_basename=None</em>, <em class="sig-param">resume=False</em>, <em class="sig-param">n_live_points=400</em>, <em class="sig-param">evidence_tolerance=0.5</em>, <em class="sig-param">seed=-1</em>, <em class="sig-param">max_iter=0</em>, <em class="sig-param">wrapped_params=None</em>, <em class="sig-param">verbose=True</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/solvecompat.html#pymultinest_solve_compat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.solvecompat.pymultinest_solve_compat" title="Permalink to this definition">¶</a></dt>
<dd><p>Run nested sampling analysis.</p>
<p>Disadvantages compared to using ReactiveNestedSampler directly:
cannot resume easily, cannot plot interactively.
Limited results.</p>
</dd></dl>

</div>
<div class="section" id="module-ultranest.stepsampler">
<span id="ultranest-stepsampler-module"></span><h2>ultranest.stepsampler module<a class="headerlink" href="#module-ultranest.stepsampler" title="Permalink to this headline">¶</a></h2>
<p>MCMC-like step sampling within a region.</p>
<p>The classes implemented here are generators that, in each iteration,
only make one likelihood call. This allows keeping a population of
samplers that have the same execution time per call, even if they
do not terminate at the same number of iterations.</p>
<dl class="function">
<dt id="ultranest.stepsampler.generate_random_direction">
<code class="sig-prename descclassname">ultranest.stepsampler.</code><code class="sig-name descname">generate_random_direction</code><span class="sig-paren">(</span><em class="sig-param">ui</em>, <em class="sig-param">region</em>, <em class="sig-param">scale=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/stepsampler.html#generate_random_direction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.stepsampler.generate_random_direction" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw uniform direction vector in unit cube space of length <cite>scale</cite>.</p>
<p>Region is not used.</p>
</dd></dl>

<dl class="function">
<dt id="ultranest.stepsampler.generate_cube_oriented_direction">
<code class="sig-prename descclassname">ultranest.stepsampler.</code><code class="sig-name descname">generate_cube_oriented_direction</code><span class="sig-paren">(</span><em class="sig-param">ui</em>, <em class="sig-param">region</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/stepsampler.html#generate_cube_oriented_direction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.stepsampler.generate_cube_oriented_direction" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw a unit direction vector in direction of a random unit cube axes.</p>
<p><cite>region</cite> is not used.</p>
</dd></dl>

<dl class="function">
<dt id="ultranest.stepsampler.generate_region_oriented_direction">
<code class="sig-prename descclassname">ultranest.stepsampler.</code><code class="sig-name descname">generate_region_oriented_direction</code><span class="sig-paren">(</span><em class="sig-param">ui</em>, <em class="sig-param">region</em>, <em class="sig-param">tscale=1</em>, <em class="sig-param">scale=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/stepsampler.html#generate_region_oriented_direction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.stepsampler.generate_region_oriented_direction" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw a random direction vector in direction of one of the <cite>region</cite> axes.</p>
<p>The vector length is <cite>scale</cite> (if given).
If not, the vector length in transformed space is <cite>tscale</cite>.</p>
</dd></dl>

<dl class="function">
<dt id="ultranest.stepsampler.generate_region_random_direction">
<code class="sig-prename descclassname">ultranest.stepsampler.</code><code class="sig-name descname">generate_region_random_direction</code><span class="sig-paren">(</span><em class="sig-param">ui</em>, <em class="sig-param">region</em>, <em class="sig-param">scale=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/stepsampler.html#generate_region_random_direction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.stepsampler.generate_region_random_direction" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw a direction vector in a random direction of the region.</p>
<p>The vector length is <cite>scale</cite> (in unit cube space).</p>
</dd></dl>

<dl class="function">
<dt id="ultranest.stepsampler.generate_mixture_random_direction">
<code class="sig-prename descclassname">ultranest.stepsampler.</code><code class="sig-name descname">generate_mixture_random_direction</code><span class="sig-paren">(</span><em class="sig-param">ui</em>, <em class="sig-param">region</em>, <em class="sig-param">scale=1</em>, <em class="sig-param">uniform_weight=1e-06</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/stepsampler.html#generate_mixture_random_direction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.stepsampler.generate_mixture_random_direction" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw from a mix of a ball proposal and a region-shaped proposal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>region</strong> (<a class="reference internal" href="#ultranest.mlfriends.MLFriends" title="ultranest.mlfriends.MLFriends"><em>MLFriends</em></a>) – region</p></li>
<li><p><strong>uniform_weight</strong> (<em>float</em>) – sets the weight for the equal-axis ball contribution</p></li>
<li><p><strong>scale</strong> (<em>float</em>) – length of the vector.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ultranest.stepsampler.inside_region">
<code class="sig-prename descclassname">ultranest.stepsampler.</code><code class="sig-name descname">inside_region</code><span class="sig-paren">(</span><em class="sig-param">region</em>, <em class="sig-param">unew</em>, <em class="sig-param">uold</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/stepsampler.html#inside_region"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.stepsampler.inside_region" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if <cite>unew</cite> is inside region.</p>
<p>always returns True at the moment.</p>
</dd></dl>

<dl class="class">
<dt id="ultranest.stepsampler.StepSampler">
<em class="property">class </em><code class="sig-prename descclassname">ultranest.stepsampler.</code><code class="sig-name descname">StepSampler</code><span class="sig-paren">(</span><em class="sig-param">nsteps</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/stepsampler.html#StepSampler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.stepsampler.StepSampler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Base class for a simple step sampler, staggering around.</p>
<p>Scales proposal towards a 50% acceptance rate.</p>
<p>Initialise sampler.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>nsteps</strong> (<em>int</em>) – number of accepted steps until the sample is considered independent.</p>
</dd>
</dl>
<dl class="method">
<dt id="ultranest.stepsampler.StepSampler.plot">
<code class="sig-name descname">plot</code><span class="sig-paren">(</span><em class="sig-param">filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/stepsampler.html#StepSampler.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.stepsampler.StepSampler.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot sampler statistics.</p>
</dd></dl>

<dl class="method">
<dt id="ultranest.stepsampler.StepSampler.move">
<code class="sig-name descname">move</code><span class="sig-paren">(</span><em class="sig-param">ui</em>, <em class="sig-param">region</em>, <em class="sig-param">ndraw=1</em>, <em class="sig-param">plot=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/stepsampler.html#StepSampler.move"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.stepsampler.StepSampler.move" title="Permalink to this definition">¶</a></dt>
<dd><p>Move around ui. Stub to be implemented.</p>
</dd></dl>

<dl class="method">
<dt id="ultranest.stepsampler.StepSampler.adjust_outside_region">
<code class="sig-name descname">adjust_outside_region</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/stepsampler.html#StepSampler.adjust_outside_region"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.stepsampler.StepSampler.adjust_outside_region" title="Permalink to this definition">¶</a></dt>
<dd><p>Adjust proposal given that we landed outside region.</p>
</dd></dl>

<dl class="method">
<dt id="ultranest.stepsampler.StepSampler.adjust_accept">
<code class="sig-name descname">adjust_accept</code><span class="sig-paren">(</span><em class="sig-param">accepted</em>, <em class="sig-param">unew</em>, <em class="sig-param">pnew</em>, <em class="sig-param">Lnew</em>, <em class="sig-param">nc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/stepsampler.html#StepSampler.adjust_accept"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.stepsampler.StepSampler.adjust_accept" title="Permalink to this definition">¶</a></dt>
<dd><p>Adjust proposal given that we have been <cite>accepted</cite> at a new point after <cite>nc</cite> calls.</p>
</dd></dl>

<dl class="method">
<dt id="ultranest.stepsampler.StepSampler.reset">
<code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/stepsampler.html#StepSampler.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.stepsampler.StepSampler.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset current path statistic.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ultranest.stepsampler.CubeMHSampler">
<em class="property">class </em><code class="sig-prename descclassname">ultranest.stepsampler.</code><code class="sig-name descname">CubeMHSampler</code><span class="sig-paren">(</span><em class="sig-param">nsteps</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/stepsampler.html#CubeMHSampler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.stepsampler.CubeMHSampler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ultranest.stepsampler.StepSampler" title="ultranest.stepsampler.StepSampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">ultranest.stepsampler.StepSampler</span></code></a></p>
<p>Simple step sampler, staggering around in cube space.</p>
<p>Initialise sampler.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>nsteps</strong> (<em>int</em>) – number of accepted steps until the sample is considered independent.</p>
</dd>
</dl>
<dl class="method">
<dt id="ultranest.stepsampler.CubeMHSampler.move">
<code class="sig-name descname">move</code><span class="sig-paren">(</span><em class="sig-param">ui</em>, <em class="sig-param">region</em>, <em class="sig-param">ndraw=1</em>, <em class="sig-param">plot=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/stepsampler.html#CubeMHSampler.move"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.stepsampler.CubeMHSampler.move" title="Permalink to this definition">¶</a></dt>
<dd><p>Move in cube space.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ultranest.stepsampler.RegionMHSampler">
<em class="property">class </em><code class="sig-prename descclassname">ultranest.stepsampler.</code><code class="sig-name descname">RegionMHSampler</code><span class="sig-paren">(</span><em class="sig-param">nsteps</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/stepsampler.html#RegionMHSampler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.stepsampler.RegionMHSampler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ultranest.stepsampler.StepSampler" title="ultranest.stepsampler.StepSampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">ultranest.stepsampler.StepSampler</span></code></a></p>
<p>Simple step sampler, staggering around in transformLayer space.</p>
<p>Initialise sampler.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>nsteps</strong> (<em>int</em>) – number of accepted steps until the sample is considered independent.</p>
</dd>
</dl>
<dl class="method">
<dt id="ultranest.stepsampler.RegionMHSampler.move">
<code class="sig-name descname">move</code><span class="sig-paren">(</span><em class="sig-param">ui</em>, <em class="sig-param">region</em>, <em class="sig-param">ndraw=1</em>, <em class="sig-param">plot=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/stepsampler.html#RegionMHSampler.move"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.stepsampler.RegionMHSampler.move" title="Permalink to this definition">¶</a></dt>
<dd><p>Move in transformLayer space.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ultranest.stepsampler.CubeSliceSampler">
<em class="property">class </em><code class="sig-prename descclassname">ultranest.stepsampler.</code><code class="sig-name descname">CubeSliceSampler</code><span class="sig-paren">(</span><em class="sig-param">nsteps</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/stepsampler.html#CubeSliceSampler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.stepsampler.CubeSliceSampler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ultranest.stepsampler.StepSampler" title="ultranest.stepsampler.StepSampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">ultranest.stepsampler.StepSampler</span></code></a></p>
<p>Slice sampler, respecting the region.</p>
<p>Initialise sampler.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>nsteps</strong> (<em>int</em>) – number of accepted steps until the sample is considered independent.</p>
</dd>
</dl>
<dl class="method">
<dt id="ultranest.stepsampler.CubeSliceSampler.reset">
<code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/stepsampler.html#CubeSliceSampler.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.stepsampler.CubeSliceSampler.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset current slice.</p>
</dd></dl>

<dl class="method">
<dt id="ultranest.stepsampler.CubeSliceSampler.generate_direction">
<code class="sig-name descname">generate_direction</code><span class="sig-paren">(</span><em class="sig-param">ui</em>, <em class="sig-param">region</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/stepsampler.html#CubeSliceSampler.generate_direction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.stepsampler.CubeSliceSampler.generate_direction" title="Permalink to this definition">¶</a></dt>
<dd><p>Start in a new direction, by choosing a random parameter.</p>
</dd></dl>

<dl class="method">
<dt id="ultranest.stepsampler.CubeSliceSampler.adjust_accept">
<code class="sig-name descname">adjust_accept</code><span class="sig-paren">(</span><em class="sig-param">accepted</em>, <em class="sig-param">unew</em>, <em class="sig-param">pnew</em>, <em class="sig-param">Lnew</em>, <em class="sig-param">nc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/stepsampler.html#CubeSliceSampler.adjust_accept"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.stepsampler.CubeSliceSampler.adjust_accept" title="Permalink to this definition">¶</a></dt>
<dd><p>Adjust proposal given that we have been <cite>accepted</cite> at a new point after <cite>nc</cite> calls.</p>
</dd></dl>

<dl class="method">
<dt id="ultranest.stepsampler.CubeSliceSampler.adjust_outside_region">
<code class="sig-name descname">adjust_outside_region</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/stepsampler.html#CubeSliceSampler.adjust_outside_region"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.stepsampler.CubeSliceSampler.adjust_outside_region" title="Permalink to this definition">¶</a></dt>
<dd><p>Adjust proposal given that we landed outside region.</p>
</dd></dl>

<dl class="method">
<dt id="ultranest.stepsampler.CubeSliceSampler.move">
<code class="sig-name descname">move</code><span class="sig-paren">(</span><em class="sig-param">ui</em>, <em class="sig-param">region</em>, <em class="sig-param">ndraw=1</em>, <em class="sig-param">plot=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/stepsampler.html#CubeSliceSampler.move"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.stepsampler.CubeSliceSampler.move" title="Permalink to this definition">¶</a></dt>
<dd><p>Advance the slice sampling move.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ultranest.stepsampler.RegionSliceSampler">
<em class="property">class </em><code class="sig-prename descclassname">ultranest.stepsampler.</code><code class="sig-name descname">RegionSliceSampler</code><span class="sig-paren">(</span><em class="sig-param">nsteps</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/stepsampler.html#RegionSliceSampler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.stepsampler.RegionSliceSampler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ultranest.stepsampler.CubeSliceSampler" title="ultranest.stepsampler.CubeSliceSampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">ultranest.stepsampler.CubeSliceSampler</span></code></a></p>
<p>Slice sampler, randomly picking region axes.</p>
<p>Initialise sampler.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>nsteps</strong> (<em>int</em>) – number of accepted steps until the sample is considered independent.</p>
</dd>
</dl>
<dl class="method">
<dt id="ultranest.stepsampler.RegionSliceSampler.generate_direction">
<code class="sig-name descname">generate_direction</code><span class="sig-paren">(</span><em class="sig-param">ui</em>, <em class="sig-param">region</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/stepsampler.html#RegionSliceSampler.generate_direction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.stepsampler.RegionSliceSampler.generate_direction" title="Permalink to this definition">¶</a></dt>
<dd><p>Choose a random axis from region.transformLayer.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ultranest.stepsampler.RegionSequentialSliceSampler">
<em class="property">class </em><code class="sig-prename descclassname">ultranest.stepsampler.</code><code class="sig-name descname">RegionSequentialSliceSampler</code><span class="sig-paren">(</span><em class="sig-param">nsteps</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/stepsampler.html#RegionSequentialSliceSampler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.stepsampler.RegionSequentialSliceSampler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ultranest.stepsampler.CubeSliceSampler" title="ultranest.stepsampler.CubeSliceSampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">ultranest.stepsampler.CubeSliceSampler</span></code></a></p>
<p>Slice sampler, sequentially iterating region axes.</p>
<p>Initialise sampler.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>nsteps</strong> (<em>int</em>) – number of accepted steps until the sample is considered independent.</p>
</dd>
</dl>
<dl class="method">
<dt id="ultranest.stepsampler.RegionSequentialSliceSampler.generate_direction">
<code class="sig-name descname">generate_direction</code><span class="sig-paren">(</span><em class="sig-param">ui</em>, <em class="sig-param">region</em>, <em class="sig-param">scale=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/stepsampler.html#RegionSequentialSliceSampler.generate_direction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.stepsampler.RegionSequentialSliceSampler.generate_direction" title="Permalink to this definition">¶</a></dt>
<dd><p>Choose from region.transformLayer the next axis iteratively.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ultranest.stepsampler.RegionBallSliceSampler">
<em class="property">class </em><code class="sig-prename descclassname">ultranest.stepsampler.</code><code class="sig-name descname">RegionBallSliceSampler</code><span class="sig-paren">(</span><em class="sig-param">nsteps</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/stepsampler.html#RegionBallSliceSampler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.stepsampler.RegionBallSliceSampler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ultranest.stepsampler.CubeSliceSampler" title="ultranest.stepsampler.CubeSliceSampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">ultranest.stepsampler.CubeSliceSampler</span></code></a></p>
<p>Slice sampler, in random directions according to region.</p>
<p>Initialise sampler.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>nsteps</strong> (<em>int</em>) – number of accepted steps until the sample is considered independent.</p>
</dd>
</dl>
<dl class="method">
<dt id="ultranest.stepsampler.RegionBallSliceSampler.generate_direction">
<code class="sig-name descname">generate_direction</code><span class="sig-paren">(</span><em class="sig-param">ui</em>, <em class="sig-param">region</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/stepsampler.html#RegionBallSliceSampler.generate_direction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.stepsampler.RegionBallSliceSampler.generate_direction" title="Permalink to this definition">¶</a></dt>
<dd><p>Choose a isotropically random direction from region.transformLayer.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ultranest.stepsampler.SpeedVariableRegionSliceSampler">
<em class="property">class </em><code class="sig-prename descclassname">ultranest.stepsampler.</code><code class="sig-name descname">SpeedVariableRegionSliceSampler</code><span class="sig-paren">(</span><em class="sig-param">step_matrix</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/stepsampler.html#SpeedVariableRegionSliceSampler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.stepsampler.SpeedVariableRegionSliceSampler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ultranest.stepsampler.CubeSliceSampler" title="ultranest.stepsampler.CubeSliceSampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">ultranest.stepsampler.CubeSliceSampler</span></code></a></p>
<p>Slice sampler, in region axes.</p>
<p>Updates only some dimensions at a time, completely user-definable.</p>
<p>Initialise sampler.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>step_matrix</strong> (<em>matrix</em><em> or </em><em>list of slices</em>) – <p><strong>if a bool matrix of shape (n_steps, n_dims):</strong></p>
<p>Each row of the matrix indicates which parameters
should be updated.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">],</span> <span class="p">[</span><span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">],</span> <span class="p">[</span><span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">]]</span>
</pre></div>
</div>
<p>This would update the first parameter 1/3 times, and the second
parameters every time. Three steps are made until the point
is considered independent.</p>
<p>For a full update in every step, use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="n">n_steps</span><span class="p">,</span> <span class="n">n_dims</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>if a list of slices:</strong></p>
<p>Each entry indicates which parameters should be updated.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="bp">Ellipsis</span><span class="p">,</span> <span class="nb">slice</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span> <span class="nb">slice</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">)]</span>
</pre></div>
</div>
<p>This would update the first parameter 1/3 times, parameters
2-9 2/3 times and parameter 5-9 in every step.
Three steps are made until the point is considered independent.</p>
</p>
</dd>
</dl>
<dl class="method">
<dt id="ultranest.stepsampler.SpeedVariableRegionSliceSampler.generate_direction">
<code class="sig-name descname">generate_direction</code><span class="sig-paren">(</span><em class="sig-param">ui</em>, <em class="sig-param">region</em>, <em class="sig-param">scale=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/stepsampler.html#SpeedVariableRegionSliceSampler.generate_direction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.stepsampler.SpeedVariableRegionSliceSampler.generate_direction" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a slice sampling direction, using only some of the axes.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ultranest.stepsampler.GeodesicSliceSampler">
<em class="property">class </em><code class="sig-prename descclassname">ultranest.stepsampler.</code><code class="sig-name descname">GeodesicSliceSampler</code><span class="sig-paren">(</span><em class="sig-param">nsteps</em>, <em class="sig-param">radial_fraction</em>, <em class="sig-param">scale=1.5</em>, <em class="sig-param">adapt=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/stepsampler.html#GeodesicSliceSampler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.stepsampler.GeodesicSliceSampler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ultranest.stepsampler.StepSampler" title="ultranest.stepsampler.StepSampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">ultranest.stepsampler.StepSampler</span></code></a></p>
<p>Geodesic slice sampler, respecting the region.</p>
<p>The idea is to combine radial sampling with ellipsoid sampling.
For example: Slice sampling from the center outwards, then
sample along an arc around the center. This should have higher
acceptance rates, because most the arc is within the likelihood
contour.
The center is determined from the region.</p>
<p>This does not seem to work well at the moment, I think because
ellipsoid sampling is biased.</p>
<p>Initialise sampler.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nsteps</strong> (<em>int</em>) – number of accepted steps until the sample is considered independent.</p></li>
<li><p><strong>radial_fraction</strong> (<em>float</em>) – what fraction of the steps should alter the radius.
Try <code class="docutils literal notranslate"><span class="pre">1.</span> <span class="pre">/</span> <span class="pre">nsteps</span></code>.</p></li>
<li><p><strong>scale</strong> (<em>float</em>) – initial scale</p></li>
<li><p><strong>adapt</strong> (<em>bool</em>) – whether to adapt the scale.</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="ultranest.stepsampler.GeodesicSliceSampler.reset">
<code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/stepsampler.html#GeodesicSliceSampler.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.stepsampler.GeodesicSliceSampler.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset current slice.</p>
</dd></dl>

<dl class="method">
<dt id="ultranest.stepsampler.GeodesicSliceSampler.get_center">
<code class="sig-name descname">get_center</code><span class="sig-paren">(</span><em class="sig-param">ui</em>, <em class="sig-param">region</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/stepsampler.html#GeodesicSliceSampler.get_center"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.stepsampler.GeodesicSliceSampler.get_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimate the current center.</p>
</dd></dl>

<dl class="method">
<dt id="ultranest.stepsampler.GeodesicSliceSampler.generate_direction">
<code class="sig-name descname">generate_direction</code><span class="sig-paren">(</span><em class="sig-param">ui</em>, <em class="sig-param">region</em>, <em class="sig-param">center</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/stepsampler.html#GeodesicSliceSampler.generate_direction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.stepsampler.GeodesicSliceSampler.generate_direction" title="Permalink to this definition">¶</a></dt>
<dd><p>Choose a new random radial direction.</p>
</dd></dl>

<dl class="method">
<dt id="ultranest.stepsampler.GeodesicSliceSampler.sample_central_ray">
<code class="sig-name descname">sample_central_ray</code><span class="sig-paren">(</span><em class="sig-param">region</em>, <em class="sig-param">ui</em>, <em class="sig-param">center</em>, <em class="sig-param">u</em>, <em class="sig-param">plot=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/stepsampler.html#GeodesicSliceSampler.sample_central_ray"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.stepsampler.GeodesicSliceSampler.sample_central_ray" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample radially from <cite>center</cite> towards <cite>ui</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="ultranest.stepsampler.GeodesicSliceSampler.sample_circle">
<code class="sig-name descname">sample_circle</code><span class="sig-paren">(</span><em class="sig-param">region</em>, <em class="sig-param">ui</em>, <em class="sig-param">center</em>, <em class="sig-param">v</em>, <em class="sig-param">u</em>, <em class="sig-param">plot=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/stepsampler.html#GeodesicSliceSampler.sample_circle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.stepsampler.GeodesicSliceSampler.sample_circle" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample on an arc passing through <cite>ui</cite> and <cite>v</cite> with ellipsoid sampling.</p>
</dd></dl>

<dl class="method">
<dt id="ultranest.stepsampler.GeodesicSliceSampler.adjust_accept">
<code class="sig-name descname">adjust_accept</code><span class="sig-paren">(</span><em class="sig-param">accepted</em>, <em class="sig-param">unew</em>, <em class="sig-param">pnew</em>, <em class="sig-param">Lnew</em>, <em class="sig-param">nc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/stepsampler.html#GeodesicSliceSampler.adjust_accept"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.stepsampler.GeodesicSliceSampler.adjust_accept" title="Permalink to this definition">¶</a></dt>
<dd><p>Adjust proposal given that we have been <cite>accepted</cite> at a new point after <cite>nc</cite> calls.</p>
</dd></dl>

<dl class="method">
<dt id="ultranest.stepsampler.GeodesicSliceSampler.adjust_outside_region">
<code class="sig-name descname">adjust_outside_region</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/stepsampler.html#GeodesicSliceSampler.adjust_outside_region"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.stepsampler.GeodesicSliceSampler.adjust_outside_region" title="Permalink to this definition">¶</a></dt>
<dd><p>Adjust proposal given that we have stepped outside.</p>
</dd></dl>

<dl class="method">
<dt id="ultranest.stepsampler.GeodesicSliceSampler.move">
<code class="sig-name descname">move</code><span class="sig-paren">(</span><em class="sig-param">ui</em>, <em class="sig-param">region</em>, <em class="sig-param">ndraw=1</em>, <em class="sig-param">plot=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/stepsampler.html#GeodesicSliceSampler.move"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.stepsampler.GeodesicSliceSampler.move" title="Permalink to this definition">¶</a></dt>
<dd><p>Advance with the radius or ellipsoid arc move.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ultranest.stepsampler.RegionGeodesicSliceSampler">
<em class="property">class </em><code class="sig-prename descclassname">ultranest.stepsampler.</code><code class="sig-name descname">RegionGeodesicSliceSampler</code><span class="sig-paren">(</span><em class="sig-param">nsteps</em>, <em class="sig-param">radial_fraction</em>, <em class="sig-param">scale=1.5</em>, <em class="sig-param">adapt=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/stepsampler.html#RegionGeodesicSliceSampler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.stepsampler.RegionGeodesicSliceSampler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ultranest.stepsampler.GeodesicSliceSampler" title="ultranest.stepsampler.GeodesicSliceSampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">ultranest.stepsampler.GeodesicSliceSampler</span></code></a></p>
<p>GeodesicSliceSampler sampler, but propose region-oriented random orientiations.</p>
<p>Initialise sampler.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nsteps</strong> (<em>int</em>) – number of accepted steps until the sample is considered independent.</p></li>
<li><p><strong>radial_fraction</strong> (<em>float</em>) – what fraction of the steps should alter the radius.
Try <code class="docutils literal notranslate"><span class="pre">1.</span> <span class="pre">/</span> <span class="pre">nsteps</span></code>.</p></li>
<li><p><strong>scale</strong> (<em>float</em>) – initial scale</p></li>
<li><p><strong>adapt</strong> (<em>bool</em>) – whether to adapt the scale.</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="ultranest.stepsampler.RegionGeodesicSliceSampler.generate_direction">
<code class="sig-name descname">generate_direction</code><span class="sig-paren">(</span><em class="sig-param">ui</em>, <em class="sig-param">region</em>, <em class="sig-param">center</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/stepsampler.html#RegionGeodesicSliceSampler.generate_direction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.stepsampler.RegionGeodesicSliceSampler.generate_direction" title="Permalink to this definition">¶</a></dt>
<dd><p>Choose a new random radial direction, following region.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ultranest.store">
<span id="ultranest-store-module"></span><h2>ultranest.store module<a class="headerlink" href="#module-ultranest.store" title="Permalink to this headline">¶</a></h2>
<p>Storage for nested sampling points.</p>
<p>The information stored is a table with</p>
<ul class="simple">
<li><p>the likelihood threshold drawn from</p></li>
<li><p>the likelihood, prior volume coordinates and physical coordinates of the point</p></li>
</ul>
<dl class="class">
<dt id="ultranest.store.NullPointStore">
<em class="property">class </em><code class="sig-prename descclassname">ultranest.store.</code><code class="sig-name descname">NullPointStore</code><span class="sig-paren">(</span><em class="sig-param">ncols</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/store.html#NullPointStore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.store.NullPointStore" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>No storage.</p>
<p>Mock initialisation.</p>
<dl class="method">
<dt id="ultranest.store.NullPointStore.reset">
<code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/store.html#NullPointStore.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.store.NullPointStore.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Do nothing.</p>
</dd></dl>

<dl class="method">
<dt id="ultranest.store.NullPointStore.close">
<code class="sig-name descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/store.html#NullPointStore.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.store.NullPointStore.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Do nothing.</p>
</dd></dl>

<dl class="method">
<dt id="ultranest.store.NullPointStore.flush">
<code class="sig-name descname">flush</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/store.html#NullPointStore.flush"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.store.NullPointStore.flush" title="Permalink to this definition">¶</a></dt>
<dd><p>Do nothing.</p>
</dd></dl>

<dl class="method">
<dt id="ultranest.store.NullPointStore.add">
<code class="sig-name descname">add</code><span class="sig-paren">(</span><em class="sig-param">row</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/store.html#NullPointStore.add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.store.NullPointStore.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Increases the number of “stored” points.</p>
</dd></dl>

<dl class="method">
<dt id="ultranest.store.NullPointStore.pop">
<code class="sig-name descname">pop</code><span class="sig-paren">(</span><em class="sig-param">Lmin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/store.html#NullPointStore.pop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.store.NullPointStore.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Return no point (None, None).</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ultranest.store.FilePointStore">
<em class="property">class </em><code class="sig-prename descclassname">ultranest.store.</code><code class="sig-name descname">FilePointStore</code><a class="reference internal" href="_modules/ultranest/store.html#FilePointStore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.store.FilePointStore" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Base class for storing points in a file.</p>
<dl class="method">
<dt id="ultranest.store.FilePointStore.reset">
<code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/store.html#FilePointStore.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.store.FilePointStore.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset stack to loaded data.</p>
<p>Useful when Lmin is not reset to a lower value.</p>
</dd></dl>

<dl class="method">
<dt id="ultranest.store.FilePointStore.close">
<code class="sig-name descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/store.html#FilePointStore.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.store.FilePointStore.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close file.</p>
</dd></dl>

<dl class="method">
<dt id="ultranest.store.FilePointStore.flush">
<code class="sig-name descname">flush</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/store.html#FilePointStore.flush"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.store.FilePointStore.flush" title="Permalink to this definition">¶</a></dt>
<dd><p>Flush file to disk.</p>
</dd></dl>

<dl class="method">
<dt id="ultranest.store.FilePointStore.pop">
<code class="sig-name descname">pop</code><span class="sig-paren">(</span><em class="sig-param">Lmin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/store.html#FilePointStore.pop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.store.FilePointStore.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Request from the storage a point sampled from &lt;= Lmin with L &gt; Lmin.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>index</strong> (<em>int</em>) – index of the point, None if no point exists</p></li>
<li><p><strong>point</strong> (<em>array</em>) – point values, None if no point exists</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ultranest.store.TextPointStore">
<em class="property">class </em><code class="sig-prename descclassname">ultranest.store.</code><code class="sig-name descname">TextPointStore</code><span class="sig-paren">(</span><em class="sig-param">filepath</em>, <em class="sig-param">ncols</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/store.html#TextPointStore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.store.TextPointStore" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ultranest.store.FilePointStore" title="ultranest.store.FilePointStore"><code class="xref py py-class docutils literal notranslate"><span class="pre">ultranest.store.FilePointStore</span></code></a></p>
<p>Storage in a text file.</p>
<p>Stores previously drawn points above some likelihood contour,
so that they can be reused in another run.</p>
<p>The format is a tab separated text file.
Through the fmt and delimiter attributes the output can be altered.</p>
<p>Load and append to storage at <em>filepath</em>.</p>
<p>The file should contain <em>ncols</em> columns (Lmin, L, and others).</p>
<dl class="method">
<dt id="ultranest.store.TextPointStore.add">
<code class="sig-name descname">add</code><span class="sig-paren">(</span><em class="sig-param">row</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/store.html#TextPointStore.add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.store.TextPointStore.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add data point <em>row</em> = [Lmin, L, *otherinfo] to storage.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ultranest.store.HDF5PointStore">
<em class="property">class </em><code class="sig-prename descclassname">ultranest.store.</code><code class="sig-name descname">HDF5PointStore</code><span class="sig-paren">(</span><em class="sig-param">filepath</em>, <em class="sig-param">ncols</em>, <em class="sig-param">**h5_file_args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/store.html#HDF5PointStore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.store.HDF5PointStore" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ultranest.store.FilePointStore" title="ultranest.store.FilePointStore"><code class="xref py py-class docutils literal notranslate"><span class="pre">ultranest.store.FilePointStore</span></code></a></p>
<p>Storage in a HDF5 file.</p>
<p>Stores previously drawn points above some likelihood contour,
so that they can be reused in another run.</p>
<p>The format is a HDF5 file, which grows as needed.</p>
<p>Load and append to storage at filepath.</p>
<p>File contains <em>ncols</em> columns in ‘points’ dataset (Lmin, L, and others).
h5_file_args are passed on to hdf5.File.</p>
<dl class="method">
<dt id="ultranest.store.HDF5PointStore.add">
<code class="sig-name descname">add</code><span class="sig-paren">(</span><em class="sig-param">row</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/store.html#HDF5PointStore.add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.store.HDF5PointStore.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add data point row = [Lmin, L, <em>otherinfo</em> to storage.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ultranest.utils">
<span id="ultranest-utils-module"></span><h2>ultranest.utils module<a class="headerlink" href="#module-ultranest.utils" title="Permalink to this headline">¶</a></h2>
<p>Utility functions for logging and statistics.</p>
<dl class="function">
<dt id="ultranest.utils.create_logger">
<code class="sig-prename descclassname">ultranest.utils.</code><code class="sig-name descname">create_logger</code><span class="sig-paren">(</span><em class="sig-param">module_name</em>, <em class="sig-param">log_dir=None</em>, <em class="sig-param">level=20</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/utils.html#create_logger"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.utils.create_logger" title="Permalink to this definition">¶</a></dt>
<dd><p>Set up the logging channel <cite>module_name</cite>.</p>
<p>Append to <code class="docutils literal notranslate"><span class="pre">debug.log</span></code> in <cite>log_dir</cite> (if not <code class="docutils literal notranslate"><span class="pre">None</span></code>).
Write to stdout with output level <cite>level</cite>.</p>
<p>If logging handlers are already registered, no new handlers are
registered.</p>
</dd></dl>

<dl class="function">
<dt id="ultranest.utils.make_run_dir">
<code class="sig-prename descclassname">ultranest.utils.</code><code class="sig-name descname">make_run_dir</code><span class="sig-paren">(</span><em class="sig-param">log_dir</em>, <em class="sig-param">run_num=None</em>, <em class="sig-param">append_run_num=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/utils.html#make_run_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.utils.make_run_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a new numbered directory for this run to store output.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>log_dir</strong> (<em>str</em>) – base path</p></li>
<li><p><strong>run_num</strong> (<em>int</em>) – folder to add to path, such as prefix/1/</p></li>
<li><p><strong>append_run_num</strong> (<em>bool</em>) – If true, set run_num to next unused number</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>dictionary of folder paths for different purposes.</em></p></li>
<li><p><em>Keys are “run_dir” (the path), “info”, “results”, “chains”, “plots”.</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ultranest.utils.vectorize">
<code class="sig-prename descclassname">ultranest.utils.</code><code class="sig-name descname">vectorize</code><span class="sig-paren">(</span><em class="sig-param">function</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/utils.html#vectorize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.utils.vectorize" title="Permalink to this definition">¶</a></dt>
<dd><p>Vectorize likelihood or prior_transform function.</p>
</dd></dl>

<dl class="function">
<dt id="ultranest.utils.resample_equal">
<code class="sig-prename descclassname">ultranest.utils.</code><code class="sig-name descname">resample_equal</code><span class="sig-paren">(</span><em class="sig-param">samples</em>, <em class="sig-param">weights</em>, <em class="sig-param">rstate=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/utils.html#resample_equal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.utils.resample_equal" title="Permalink to this definition">¶</a></dt>
<dd><p>Resample the samples so that the final samples all have equal weight.</p>
<p>Each input sample appears in the output array either
<cite>floor(weights[i] * N)</cite> or <cite>ceil(weights[i] * N)</cite> times, with
<cite>floor</cite> or <cite>ceil</cite> randomly selected (weighted by proximity).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>samples</strong> (<cite>~numpy.ndarray</cite>) – Unequally weight samples returned by the nested sampling algorithm.
Shape is (N, …), with N the number of samples.</p></li>
<li><p><strong>weights</strong> (<cite>~numpy.ndarray</cite>) – Weight of each sample. Shape is (N,).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>equal_weight_samples</strong> – Samples with equal weights, same shape as input samples.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>~numpy.ndarray</cite></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">],</span> <span class="p">[</span><span class="mf">2.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">],</span> <span class="p">[</span><span class="mf">3.</span><span class="p">,</span> <span class="mf">3.</span><span class="p">],</span> <span class="p">[</span><span class="mf">4.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">w</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.15</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nestle</span><span class="o">.</span><span class="n">resample_equal</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">w</span><span class="p">)</span>
<span class="go">array([[ 1.,  1.],</span>
<span class="go">       [ 1.,  1.],</span>
<span class="go">       [ 1.,  1.],</span>
<span class="go">       [ 3.,  3.]])</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>Implements the systematic resampling method described in
<a class="reference external" href="http://people.isy.liu.se/rt/schon/Publications/HolSG2006.pdf">this PDF</a>.
Another way to sample according to weights would be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">N</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">weights</span><span class="p">)</span>
<span class="n">new_samples</span> <span class="o">=</span> <span class="n">samples</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">N</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="n">weights</span><span class="p">)]</span>
</pre></div>
</div>
<p>However, the method used in this function is less “noisy”.</p>
</dd></dl>

<dl class="function">
<dt id="ultranest.utils.quantile">
<code class="sig-prename descclassname">ultranest.utils.</code><code class="sig-name descname">quantile</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">q</em>, <em class="sig-param">weights=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/utils.html#quantile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.utils.quantile" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute (weighted) quantiles from an input set of samples.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<cite>~numpy.ndarray</cite> with shape (nsamps,)) – Input samples.</p></li>
<li><p><strong>q</strong> (<cite>~numpy.ndarray</cite> with shape (nquantiles,)) – The list of quantiles to compute from <cite>[0., 1.]</cite>.</p></li>
<li><p><strong>weights</strong> (<cite>~numpy.ndarray</cite> with shape (nsamps,), optional) – The associated weight from each sample.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>quantiles</strong> – The weighted sample quantiles computed at <cite>q</cite>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>~numpy.ndarray</cite> with shape (nquantiles,)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ultranest.utils.vol_prefactor">
<code class="sig-prename descclassname">ultranest.utils.</code><code class="sig-name descname">vol_prefactor</code><span class="sig-paren">(</span><em class="sig-param">n</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/utils.html#vol_prefactor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.utils.vol_prefactor" title="Permalink to this definition">¶</a></dt>
<dd><p>Volume constant for an <cite>n</cite>-dimensional sphere.</p>
<p>for <cite>n</cite> even:  $$    (2pi)^(n    /2) / (2 * 4 * … * n)$$
for <cite>n</cite> odd :  $$2 * (2pi)^((n-1)/2) / (1 * 3 * … * n)$$</p>
</dd></dl>

</div>
<div class="section" id="module-ultranest.viz">
<span id="ultranest-viz-module"></span><h2>ultranest.viz module<a class="headerlink" href="#module-ultranest.viz" title="Permalink to this headline">¶</a></h2>
<p>Visual impression of current exploration.</p>
<dl class="function">
<dt id="ultranest.viz.round_parameterlimits">
<code class="sig-prename descclassname">ultranest.viz.</code><code class="sig-name descname">round_parameterlimits</code><span class="sig-paren">(</span><em class="sig-param">plo</em>, <em class="sig-param">phi</em>, <em class="sig-param">paramlimitguess=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/viz.html#round_parameterlimits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.viz.round_parameterlimits" title="Permalink to this definition">¶</a></dt>
<dd><p>Guess the current parameter range.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>plo</strong> (<em>array of floats</em>) – for each parameter, current minimum value</p></li>
<li><p><strong>phi</strong> (<em>array of floats</em>) – for each parameter, current maximum value</p></li>
<li><p><strong>paramlimitguess</strong> (<em>array of float tuples</em>) – for each parameter, guess of parameter range if available</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>plo_rounded</strong> (<em>array of floats</em>) – for each parameter, rounded minimum value</p></li>
<li><p><strong>phi_rounded</strong> (<em>array of floats</em>) – for each parameter, rounded maximum value</p></li>
<li><p><strong>formats</strong> (<em>array of float tuples</em>) – for each parameter, string format for representing it.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ultranest.viz.nicelogger">
<code class="sig-prename descclassname">ultranest.viz.</code><code class="sig-name descname">nicelogger</code><span class="sig-paren">(</span><em class="sig-param">points</em>, <em class="sig-param">info</em>, <em class="sig-param">region</em>, <em class="sig-param">transformLayer</em>, <em class="sig-param">region_fresh=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/viz.html#nicelogger"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.viz.nicelogger" title="Permalink to this definition">¶</a></dt>
<dd><p>Log current live points and integration progress to stdout.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>points</strong> (<em>dict with keys &quot;u&quot;</em><em>, </em><em>&quot;p&quot;</em><em>, </em><em>&quot;logl&quot;</em>) – live points (u: cube coordinates, p: transformed coordinates,
logl: loglikelihood values)</p></li>
<li><p><strong>info</strong> (<em>dict</em>) – <p>integration information. Keys are:</p>
<ul>
<li><p>paramlims (optional): parameter ranges</p></li>
<li><p>logvol: expected volume at this iteration</p></li>
</ul>
</p></li>
<li><p><strong>region</strong> (<a class="reference internal" href="#ultranest.mlfriends.MLFriends" title="ultranest.mlfriends.MLFriends"><em>MLFriends</em></a>) – Current region.</p></li>
<li><p><strong>transformLayer</strong> (<em>ScaleLayer</em><em> or </em><a class="reference internal" href="#ultranest.mlfriends.AffineLayer" title="ultranest.mlfriends.AffineLayer"><em>AffineLayer</em></a>) – Current transformLayer (for clustering information).</p></li>
<li><p><strong>region_fresh</strong> (<em>bool</em>) – Whether the region was just updated.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ultranest.viz.isnotebook">
<code class="sig-prename descclassname">ultranest.viz.</code><code class="sig-name descname">isnotebook</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/viz.html#isnotebook"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.viz.isnotebook" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if running in a Jupyter notebook.</p>
</dd></dl>

<dl class="class">
<dt id="ultranest.viz.LivePointsWidget">
<em class="property">class </em><code class="sig-prename descclassname">ultranest.viz.</code><code class="sig-name descname">LivePointsWidget</code><a class="reference internal" href="_modules/ultranest/viz.html#LivePointsWidget"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.viz.LivePointsWidget" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Widget for ipython and jupyter notebooks.</p>
<p>Shows where the live points are currently in parameter space.</p>
<p>Initialise. To draw, call .initialize().</p>
<dl class="method">
<dt id="ultranest.viz.LivePointsWidget.initialize">
<code class="sig-name descname">initialize</code><span class="sig-paren">(</span><em class="sig-param">paramnames</em>, <em class="sig-param">width</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/viz.html#LivePointsWidget.initialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.viz.LivePointsWidget.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Set up and display widget.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>paramnames</strong> (<em>list of str</em>) – Parameter names</p></li>
<li><p><strong>width</strong> (<em>int</em>) – number of html table columns.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="ultranest.viz.get_default_viz_callback">
<code class="sig-prename descclassname">ultranest.viz.</code><code class="sig-name descname">get_default_viz_callback</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ultranest/viz.html#get_default_viz_callback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ultranest.viz.get_default_viz_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Get default callback.</p>
<p>LivePointsWidget for Jupyter notebook, nicelogger otherwise.</p>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="issues.html" class="btn btn-neutral float-right" title="Frequently Asked Questions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="modules.html" class="btn btn-neutral float-left" title="API" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014-2019, Johannes Buchner

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>